import{M as b,l as y}from"./App.802ad17b.js";import{r as h}from"./vendor.fd4def91.js";import{a as l,j as e,F as f}from"./index.7b10d756.js";const v=({option:t,isCorrect:n,wasSelected:r,index:s,position:i})=>e("div",{children:e("p",{children:l("label",{children:[e("input",{type:"checkbox",checked:r,className:"filled-in",disabled:!0,name:`options_${i}`}),e("span",{className:n?"green-text":"black-text",children:e("b",{children:e("span",{dangerouslySetInnerHTML:{__html:t}})})})]})})},s),q=({option:t,isCorrect:n,wasSelected:r,index:s,position:i})=>e("div",{children:e("p",{children:l("label",{children:[e("input",{disabled:!0,checked:r,required:!0,className:"with-gap",name:`options_${i}`,type:"radio"}),e("span",{className:n?"green-text":"black-text",children:e("b",{children:e("span",{dangerouslySetInnerHTML:{__html:t}})})})]})})},s),w=({content:t,position:n})=>{const s=h.exports.useMemo(()=>{var a,p;return((p=(a=t.question.options_next)==null?void 0:a.filter(o=>o.isCorrect))==null?void 0:p.length)||0},[t.question])>1||!1;h.exports.useEffect(()=>{let a=document.querySelectorAll(".question-comp img");b.Materialbox.init(a)},[]);const u=(()=>{let a=s?v:q;return({position:p,index:o,option:d,isCorrect:c,wasSelected:m})=>e(a,{position:p,option:d,index:o,wasSelected:m,isCorrect:c},o)})();return l("div",{children:[e("span",{dangerouslySetInnerHTML:{__html:`
                    <div style="display:flex;flex-direction:row;">
                        ${t.status?'<span style="color:green;">&#10004;</span>':'<span style="color:red;">&#10008;</span>'} 
                        <p style="margin-right:5px;">${n+1}.  </p><strong class="question-comp">${t.question.question}</strong>
                    </div>
                `}}),e("div",{style:{marginTop:"10px",marginLeft:"17px",marginBottom:"10px"},children:t.question.options_next&&t.question.options_next.map(({option:a,isCorrect:p,_id:o},d)=>u({wasSelected:!!t.attempted_options.find(c=>c.optionID===o),position:n,option:a,index:d,isCorrect:p}))}),e("div",{style:{marginLeft:"17px",marginBottom:"10px"},children:e("span",{dangerouslySetInnerHTML:{__html:`
                        <blockquote class="red lighten-5">
                            <span>
                            ${t.question.additionalInfo}
                            </span>
                        </blockquote>
                    `}})})]})},C=({option:t,isCorrect:n,index:r,position:s,wasSelected:i})=>e("div",{children:e("p",{children:l("label",{children:[e("input",{type:"checkbox",checked:i,className:"filled-in",disabled:!0,required:!0,name:`sub_option_answer_${s}`}),e("span",{className:n?"green-text":"black-text",children:e("b",{children:e("span",{dangerouslySetInnerHTML:{__html:t}})})})]})})},r),N=({option:t,isCorrect:n,wasSelected:r,keyValue:s,position:i})=>e("p",{children:l("label",{children:[e("input",{disabled:!0,checked:r,required:!0,className:"with-gap",type:"radio",name:`sub_option_answer_${i}`}),e("span",{className:n?"green-text":"black-text",children:e("b",{children:e("span",{dangerouslySetInnerHTML:{__html:t}})})})]})},s),M=({children:t,index:n,isCorrect:r})=>l("div",{style:{marginLeft:"15px",marginTop:"5px",marginBottom:"5px",display:"flex",flexDirection:"row"},children:[r?e("span",{style:{color:"green"},children:"\u2714"}):e("span",{style:{color:"red"},children:"\u2718"}),n+1,".",e("div",{children:t})]}),S=({children:t,index:n})=>e("div",{style:{marginLeft:"15px",marginTop:"5px",marginBottom:"5px"},children:t}),$=({content:t,index:n,subQuestionData:r})=>{const s=h.exports.useMemo(()=>{var o;return((o=t.options.filter(d=>d.isCorrect))==null?void 0:o.length)>1},[t.question]),i=h.exports.useMemo(()=>t.question==="",[t.question]),u=i?M:S,p=(()=>{let o=s?C:N;return({position:d,index:c,option:m,isCorrect:g,quesIndex:x,wasSelected:_})=>e(o,{keyValue:`sub_option_${c}_${x}`,wasSelected:_,position:d,option:m,index:c,isCorrect:g},`sub_option_${c}_${x}`)})();return l("div",{style:{marginLeft:"6px"},children:[e("span",{dangerouslySetInnerHTML:{__html:i?"":`
                        <div style="display:flex;flex-direction:row;">
                            <p style="margin-right:5px;">
                                ${r.status?'<span style="color:green;">&#10004;</span>':'<span style="color:red;">&#10008;</span>'}${n+1}.  
                            </p>
                            <p><strong>
                            ${t.question}
                            </strong></p>
                        </div>
                    `}}),e(u,{index:n,isCorrect:r.status,children:t.options.map(({option:o,isCorrect:d,_id:c},m)=>p({wasSelected:!!r.attempted_options.find(g=>g.optionID===c),position:n,index:n,quesIndex:m,option:o,isCorrect:d}))}),e("div",{style:{marginLeft:"15px",marginBottom:"10px"},children:e("span",{dangerouslySetInnerHTML:{__html:`
                        <blockquote class="red lighten-5">
                            <span>
                                ${t.additionalInfo}
                            </span>
                        </blockquote>
                    `}})})]})},k=({content:t})=>{var n;return h.exports.useEffect(()=>{let r=document.querySelectorAll(".question-comp img");b.Materialbox.init(r)},[]),l("div",{children:[e("span",{dangerouslySetInnerHTML:{__html:`<div class="question-comp">${t.question.question}</div>`}}),e("div",{style:{marginTop:"5px"},children:(n=t.question.children)==null?void 0:n.map((r,s)=>{let i=t.children.find(u=>u.question===r._id);return i?e($,{content:r,index:s,subQuestionData:i},s):null})})]})},I=({content:t,isKiswahili:n,position:r})=>l("div",{className:"col s12",style:{marginBottom:"7px"},children:[l("div",{style:{display:"flex",flexDirection:"row"},children:[t.status?e("span",{style:{color:"green"},children:"\u2714"}):e("span",{style:{color:"red"},children:"\u2718"}),l("span",{style:{marginRight:"5px"},children:[r+1,". "]}),e("p",{children:l("span",{className:"left-align",children:[e("span",{dangerouslySetInnerHTML:{__html:t.question.question}}),l("span",{className:"left-align",children:[e("br",{}),e("b",{children:t.question.options})]})]})})]}),l("div",{style:{marginLeft:"15px"},children:[l("div",{className:"input-field col s12",children:[e("input",{title:"Enter A B C or D",disabled:!0,value:t.attempted_option,id:`trial_answer${r}`,required:!0,type:"text",className:"validate",style:{color:t.status?"green":"red"}}),e("label",{htmlFor:`trial_answer${r}`,children:n?"Jibu":"Answer"})]}),e("div",{className:"col s12",children:e("blockquote",{className:"green lighten-5",style:{borderLeftColor:"#00e676"},children:l("p",{id:`correct_answer_display${r}`,className:"bold",children:[n?"Jibu Sahihi: ":"Correct Answer: ",t.question.answer]})})}),e("div",{className:"col s12",children:e("blockquote",{className:"red lighten-5",children:e("p",{id:`additional_information${r}`,className:"bold",dangerouslySetInnerHTML:{__html:`${t.question.additionalInfo}`}})})})]})]}),O=({paper:t})=>{if(!t)return e(f,{children:"An error occured while fetching the paper"});const n=t.subject.split(" ")[0].toLowerCase()==="kiswahili",r=(s,i)=>{switch(s.questionType){case"normal":return e(w,{content:s.content,position:i},i);case"comprehension":return e(k,{content:s.content},i);default:return e(I,{isKiswahili:n,content:s.content,position:i},i)}};return l(f,{children:[l("div",{className:"white",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",borderRadius:"2px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",padding:"5px 6px",position:"sticky",top:56.2,zIndex:2},children:[e("div",{className:"materialize-red white-text",style:{alignSelf:"center",padding:"5px",borderRadius:"3px"},children:e("b",{children:l("span",{children:[n?"ALAMA":"SCORE"," : ",`${t.score.passed}/${t.score.total}`]})})}),e("div",{children:e("button",{disabled:!0,className:"waves-effect waves-light z-depth-1 btn-small",children:n?"MASWALI ZAIDI":"MORE QUESTIONS"})})]}),e("div",{id:"zoeziPaper",children:e(y.Card,{style:{marginTop:"13px"},header:l("div",{className:"card-image",children:[e("div",{className:"postergrad",children:e("img",{alt:"",style:{maxWidth:"100%",height:"84px",objectFit:"cover"},src:"https://www.zoezi-education.com/img/background2.webp"})}),e("span",{className:"card-title text-center sub-names truncate text-bold teal",children:`${t.subject}`})]}),children:l("form",{onSubmit:s=>{s.preventDefault()},children:[t.content.map((s,i)=>r(s,i)),e(y.Button,{node:"button",waves:"light",small:!0,style:{marginTop:"15px"},disabled:!0,children:n?"TUMA MAJIBU":"SUBMIT ANSWERS"})]})})})]})};export{O as default};
