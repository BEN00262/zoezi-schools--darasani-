var Dr=Object.defineProperty,xr=Object.defineProperties;var Br=Object.getOwnPropertyDescriptors;var vt=Object.getOwnPropertySymbols;var kn=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable;var Un=(e,t,n)=>t in e?Dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ce=(e,t)=>{for(var n in t||(t={}))kn.call(t,n)&&Un(e,n,t[n]);if(vt)for(var n of vt(t))In.call(t,n)&&Un(e,n,t[n]);return e},de=(e,t)=>xr(e,Br(t));var mt=(e,t)=>{var n={};for(var o in e)kn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&vt)for(var o of vt(e))t.indexOf(o)<0&&In.call(e,o)&&(n[o]=e[o]);return n};import{j as Dn,k as Pr,l as Or,m as Fr,n as zr,o as Wr,q as Gr,r as jr,C as Hr,a as qr,L as Kr,B as Zr,p as Qr,b as Yr,c as Xr,G as Jr,u as ea,d as Qt,M as ta,h as na,S as xn,e as oa}from"./App.17df74f4.js";import{R as X,a as q,r as ra}from"./vendor.0b632b43.js";import{c as aa}from"./millisecondsToTime.6095074a.js";import{_ as Bn,j as L,L as Pn,F as Yt,a as le}from"./index.bae784dd.js";const sa=X.lazy(()=>Bn(()=>import("./question_comp.65b27148.js"),["assets/question_comp.65b27148.js","assets/App.17df74f4.js","assets/App.bede793c.css","assets/vendor.0b632b43.js","assets/index.bae784dd.js","assets/index.5cc787a4.css","assets/old_version_question.c0c8c68b.js"])),ia=({tree:e})=>(console.log(e),L(q.exports.Suspense,{fallback:L(Pn,{}),children:e&&L(sa,{paper:e})}));function ca(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var la=ca,F=la;function ua(e){return!!e&&typeof e.then=="function"}var oe=ua;function da(e,t){if(e!=null)return e;throw F(t!=null?t:"Got unexpected null or undefined")}var K=da;function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _t{getValue(){throw F("BaseLoadable")}toPromise(){throw F("BaseLoadable")}valueMaybe(){throw F("BaseLoadable")}valueOrThrow(){throw F(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw F("BaseLoadable")}promiseOrThrow(){throw F(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw F("BaseLoadable")}errorOrThrow(){throw F(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw F("BaseLoadable")}}class fa extends _t{constructor(t){super();x(this,"state","hasValue"),x(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return oe(n)?xe(n):Ge(n)?n:et(n)}catch(n){return oe(n)?xe(n.next(()=>this.map(t))):St(n)}}}class ha extends _t{constructor(t){super();x(this,"state","hasError"),x(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class On extends _t{constructor(t){super();x(this,"state","loading"),x(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return xe(this.contents.then(n=>{const o=t(n);if(Ge(o)){const r=o;switch(r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":return r.contents}}return o}).catch(n=>{if(oe(n))return n.then(()=>this.map(t).contents);throw n}))}}function et(e){return Object.freeze(new fa(e))}function St(e){return Object.freeze(new ha(e))}function xe(e){return Object.freeze(new On(e))}function pa(){return Object.freeze(new On(new Promise(()=>{})))}function va(e){return e.every(t=>t.state==="hasValue")?et(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?St(K(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):xe(Promise.all(e.map(t=>t.contents)))}function Fn(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(r=>e[r])).map(r=>Ge(r)?r:oe(r)?xe(r):et(r)),o=va(n);return Array.isArray(e)?o:o.map(r=>Object.getOwnPropertyNames(e).reduce((a,s,c)=>de(ce({},a),{[s]:r[c]}),{}))}function Ge(e){return e instanceof _t}const ma={of:e=>oe(e)?xe(e):Ge(e)?e:et(e),error:e=>St(e),all:Fn,isLoadable:Ge};var Be={loadableWithValue:et,loadableWithError:St,loadableWithPromise:xe,loadableLoading:pa,loadableAll:Fn,isLoadable:Ge,RecoilLoadable:ma},_a=Be.loadableWithValue,Sa=Be.loadableWithError,ya=Be.loadableWithPromise,ga=Be.loadableLoading,Ra=Be.loadableAll,ba=Be.isLoadable,Ta=Be.RecoilLoadable,tt=Object.freeze({__proto__:null,loadableWithValue:_a,loadableWithError:Sa,loadableWithPromise:ya,loadableLoading:ga,loadableAll:Ra,isLoadable:ba,RecoilLoadable:Ta});class Xt{constructor(t){x(this,"key",void 0),this.key=t}}class zn extends Xt{}class Wn extends Xt{}function wa(e){return e instanceof zn||e instanceof Wn}var yt={AbstractRecoilValue:Xt,RecoilState:zn,RecoilValueReadOnly:Wn,isRecoilValue:wa},Aa=yt.AbstractRecoilValue,Na=yt.RecoilState,Ea=yt.RecoilValueReadOnly,La=yt.isRecoilValue,je=Object.freeze({__proto__:null,AbstractRecoilValue:Aa,RecoilState:Na,RecoilValueReadOnly:Ea,isRecoilValue:La});const gt=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function Rt(e){var t;return(t=gt.get(e))!==null&&t!==void 0?t:!1}Rt.setPass=e=>{gt.set(e,!0)};Rt.setFail=e=>{gt.set(e,!1)};Rt.clear=()=>{gt.clear()};var Y=Rt;function Va(e,t){return function*(){let n=0;for(const o of e)yield t(o,n++)}()}var Jt=Va;function Ca(e,t,{error:n}={}){return null}var $a=Ca,Gn=$a;class jn{}const Ma=new jn;class ka extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const Pe=new Map,en=new Map;function Ia(e){return Jt(e,t=>K(en.get(t)))}function Ua(e){if(Pe.has(e.key)){const n=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}Pe.set(e.key,e);const t=e.set==null?new je.RecoilValueReadOnly(e.key):new je.RecoilState(e.key);return en.set(e.key,t),t}class Hn extends Error{}function Da(e){const t=Pe.get(e);if(t==null)throw new Hn(`Missing definition for RecoilValue: "${e}""`);return t}function xa(e){return Pe.get(e)}const bt=new Map;function Ba(e){var t;if(!Y("recoil_memory_managament_2020"))return;const n=Pe.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var o;Pe.delete(e),(o=qn(e))===null||o===void 0||o(),bt.delete(e)}}function Pa(e,t){!Y("recoil_memory_managament_2020")||(t===void 0?bt.delete(e):bt.set(e,t))}function qn(e){return bt.get(e)}var _e={nodes:Pe,recoilValues:en,registerNode:Ua,getNode:Da,getNodeMaybe:xa,deleteNodeConfigIfPossible:Ba,setConfigDeletionHandler:Pa,getConfigDeletionHandler:qn,recoilValuesForKeys:Ia,NodeMissingError:Hn,DefaultValue:jn,DEFAULT_VALUE:Ma,RecoilValueNotReady:ka};function Oa(e,t){t()}var Fa={enqueueExecution:Oa};function za(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Wa=za(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n={},o=5,r=Math.pow(2,o),a=r-1,s=r/2,c=r/4,l={},d=function(i){return function(){return i}},p=n.hash=function(u){var i=typeof u=="undefined"?"undefined":t(u);if(i==="number")return u;i!=="string"&&(u+="");for(var h=0,S=0,y=u.length;S<y;++S){var b=u.charCodeAt(S);h=(h<<5)-h+b|0}return h},v=function(i){return i-=i>>1&1431655765,i=(i&858993459)+(i>>2&858993459),i=i+(i>>4)&252645135,i+=i>>8,i+=i>>16,i&127},E=function(i,h){return h>>>i&a},N=function(i){return 1<<i},g=function(i,h){return v(i&h-1)},A=function(i,h,S,y){var b=y;if(!i){var M=y.length;b=new Array(M);for(var V=0;V<M;++V)b[V]=y[V]}return b[h]=S,b},P=function(i,h,S){var y=S.length-1,b=0,M=0,V=S;if(i)b=M=h;else for(V=new Array(y);b<h;)V[M++]=S[b++];for(++b;b<=y;)V[M++]=S[b++];return i&&(V.length=y),V},w=function(i,h,S,y){var b=y.length;if(i){for(var M=b;M>=h;)y[M--]=y[M];return y[h]=S,y}for(var V=0,C=0,B=new Array(b+1);V<h;)B[C++]=y[V++];for(B[h]=S;V<b;)B[++C]=y[V++];return B},j=1,Z=2,z=3,ae=4,I={__hamt_isEmpty:!0},se=function(i){return i===I||i&&i.__hamt_isEmpty},he=function(i,h,S,y){return{type:j,edit:i,hash:h,key:S,value:y,_modify:Ee}},O=function(i,h,S){return{type:Z,edit:i,hash:h,children:S,_modify:G}},U=function(i,h,S){return{type:z,edit:i,mask:h,children:S,_modify:W}},ne=function(i,h,S){return{type:ae,edit:i,size:h,children:S,_modify:ie}},ee=function(i){return i===I||i.type===j||i.type===Z},Ae=function(i,h,S,y,b){for(var M=[],V=y,C=0,B=0;V;++B)V&1&&(M[B]=b[C++]),V>>>=1;return M[h]=S,ne(i,C+1,M)},Ne=function(i,h,S,y){for(var b=new Array(h-1),M=0,V=0,C=0,B=y.length;C<B;++C)if(C!==S){var te=y[C];te&&!se(te)&&(b[M++]=te,V|=1<<C)}return U(i,V,b)},ze=function u(i,h,S,y,b,M){if(S===b)return O(i,S,[M,y]);var V=E(h,S),C=E(h,b);return U(i,N(V)|N(C),V===C?[u(i,h+o,S,y,b,M)]:V<C?[y,M]:[M,y])},Ue=function(i,h,S,y,b,M,V,C){for(var B=b.length,te=0;te<B;++te){var me=b[te];if(S(V,me.key)){var ue=me.value,ge=M(ue);return ge===ue?b:ge===l?(--C.value,P(i,te,b)):A(i,te,he(h,y,V,ge),b)}}var Re=M();return Re===l?b:(++C.value,A(i,B,he(h,y,V,Re),b))},pe=function(i,h){return i===h.edit},Ee=function(i,h,S,y,b,M,V){if(h(M,this.key)){var C=y(this.value);return C===this.value?this:C===l?(--V.value,I):pe(i,this)?(this.value=C,this):he(i,b,M,C)}var B=y();return B===l?this:(++V.value,ze(i,S,this.hash,this,b,he(i,b,M,B)))},G=function(i,h,S,y,b,M,V){if(b===this.hash){var C=pe(i,this),B=Ue(C,i,h,this.hash,this.children,y,M,V);return B===this.children?this:B.length>1?O(i,this.hash,B):B[0]}var te=y();return te===l?this:(++V.value,ze(i,S,this.hash,this,b,he(i,b,M,te)))},W=function(i,h,S,y,b,M,V){var C=this.mask,B=this.children,te=E(S,b),me=N(te),ue=g(C,me),ge=C&me,Re=ge?B[ue]:I,We=Re._modify(i,h,S+o,y,b,M,V);if(Re===We)return this;var pt=pe(i,this),Xe=C,Je=void 0;if(ge&&se(We)){if(Xe&=~me,!Xe)return I;if(B.length<=2&&ee(B[ue^1]))return B[ue^1];Je=P(pt,ue,B)}else if(!ge&&!se(We)){if(B.length>=s)return Ae(i,te,We,C,B);Xe|=me,Je=w(pt,ue,We,B)}else Je=A(pt,ue,We,B);return pt?(this.mask=Xe,this.children=Je,this):U(i,Xe,Je)},ie=function(i,h,S,y,b,M,V){var C=this.size,B=this.children,te=E(S,b),me=B[te],ue=(me||I)._modify(i,h,S+o,y,b,M,V);if(me===ue)return this;var ge=pe(i,this),Re=void 0;if(se(me)&&!se(ue))++C,Re=A(ge,te,ue,B);else if(!se(me)&&se(ue)){if(--C,C<=c)return Ne(i,C,te,B);Re=A(ge,te,I,B)}else Re=A(ge,te,ue,B);return ge?(this.size=C,this.children=Re,this):ne(i,C,Re)};I._modify=function(u,i,h,S,y,b,M){var V=S();return V===l?I:(++M.value,he(u,y,b,V))};function k(u,i,h,S,y){this._editable=u,this._edit=i,this._config=h,this._root=S,this._size=y}k.prototype.setTree=function(u,i){return this._editable?(this._root=u,this._size=i,this):u===this._root?this:new k(this._editable,this._edit,this._config,u,i)};var ve=n.tryGetHash=function(u,i,h,S){for(var y=S._root,b=0,M=S._config.keyEq;;)switch(y.type){case j:return M(h,y.key)?y.value:u;case Z:{if(i===y.hash)for(var V=y.children,C=0,B=V.length;C<B;++C){var te=V[C];if(M(h,te.key))return te.value}return u}case z:{var me=E(b,i),ue=N(me);if(y.mask&ue){y=y.children[g(y.mask,ue)],b+=o;break}return u}case ae:{if(y=y.children[E(b,i)],y){b+=o;break}return u}default:return u}};k.prototype.tryGetHash=function(u,i,h){return ve(u,i,h,this)};var Le=n.tryGet=function(u,i,h){return ve(u,h._config.hash(i),i,h)};k.prototype.tryGet=function(u,i){return Le(u,i,this)};var f=n.getHash=function(u,i,h){return ve(void 0,u,i,h)};k.prototype.getHash=function(u,i){return f(u,i,this)},n.get=function(u,i){return ve(void 0,i._config.hash(u),u,i)},k.prototype.get=function(u,i){return Le(i,u,this)};var m=n.has=function(u,i,h){return ve(l,u,i,h)!==l};k.prototype.hasHash=function(u,i){return m(u,i,this)};var _=n.has=function(u,i){return m(i._config.hash(u),u,i)};k.prototype.has=function(u){return _(u,this)};var T=function(i,h){return i===h};n.make=function(u){return new k(0,0,{keyEq:u&&u.keyEq||T,hash:u&&u.hash||p},I,0)},n.empty=n.make();var R=n.isEmpty=function(u){return u&&!!se(u._root)};k.prototype.isEmpty=function(){return R(this)};var D=n.modifyHash=function(u,i,h,S){var y={value:S._size},b=S._root._modify(S._editable?S._edit:NaN,S._config.keyEq,0,u,i,h,y);return S.setTree(b,y.value)};k.prototype.modifyHash=function(u,i,h){return D(h,u,i,this)};var $=n.modify=function(u,i,h){return D(u,h._config.hash(i),i,h)};k.prototype.modify=function(u,i){return $(i,u,this)};var H=n.setHash=function(u,i,h,S){return D(d(h),u,i,S)};k.prototype.setHash=function(u,i,h){return H(u,i,h,this)};var J=n.set=function(u,i,h){return H(h._config.hash(u),u,i,h)};k.prototype.set=function(u,i){return J(u,i,this)};var re=d(l),Q=n.removeHash=function(u,i,h){return D(re,u,i,h)};k.prototype.removeHash=k.prototype.deleteHash=function(u,i){return Q(u,i,this)};var fe=n.remove=function(u,i){return Q(i._config.hash(u),u,i)};k.prototype.remove=k.prototype.delete=function(u){return fe(u,this)};var De=n.beginMutation=function(u){return new k(u._editable+1,u._edit+1,u._config,u._root,u._size)};k.prototype.beginMutation=function(){return De(this)};var Ye=n.endMutation=function(u){return u._editable=u._editable&&u._editable-1,u};k.prototype.endMutation=function(){return Ye(this)};var Ve=n.mutate=function(u,i){var h=De(i);return u(h),Ye(h)};k.prototype.mutate=function(u){return Ve(u,this)};var ye=function(i){return i&&Ce(i[0],i[1],i[2],i[3],i[4])},Ce=function(i,h,S,y,b){for(;S<i;){var M=h[S++];if(M&&!se(M))return $n(M,y,[i,h,S,y,b])}return ye(b)},$n=function(i,h,S){switch(i.type){case j:return{value:h(i),rest:S};case Z:case ae:case z:var y=i.children;return Ce(y.length,y,0,h,S);default:return ye(S)}},Er={done:!0};function Kt(u){this.v=u}Kt.prototype.next=function(){if(!this.v)return Er;var u=this.v;return this.v=ye(u.rest),u},Kt.prototype[Symbol.iterator]=function(){return this};var Zt=function(i,h){return new Kt($n(i._root,h))},Lr=function(i){return[i.key,i.value]},Vr=n.entries=function(u){return Zt(u,Lr)};k.prototype.entries=k.prototype[Symbol.iterator]=function(){return Vr(this)};var Cr=function(i){return i.key},$r=n.keys=function(u){return Zt(u,Cr)};k.prototype.keys=function(){return $r(this)};var Mr=function(i){return i.value},kr=n.values=k.prototype.values=function(u){return Zt(u,Mr)};k.prototype.values=function(){return kr(this)};var Mn=n.fold=function(u,i,h){var S=h._root;if(S.type===j)return u(i,S.value,S.key);for(var y=[S.children],b=void 0;b=y.pop();)for(var M=0,V=b.length;M<V;){var C=b[M++];C&&C.type&&(C.type===j?i=u(i,C.value,C.key):y.push(C.children))}return i};k.prototype.fold=function(u,i){return Mn(u,i,this)};var Ir=n.forEach=function(u,i){return Mn(function(h,S,y){return u(S,y,i)},null,i)};k.prototype.forEach=function(u){return Ir(u,this)};var Ur=n.count=function(u){return u._size};k.prototype.count=function(){return Ur(this)},Object.defineProperty(k.prototype,"size",{get:k.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class Ga{constructor(t){x(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return nn(this)}toMap(){return new Map(this._map)}}class tn{constructor(t){if(x(this,"_hamt",Wa.empty.beginMutation()),t instanceof tn){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,o]of t.entries())this._hamt.set(n,o)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return nn(this)}toMap(){return new Map(this._hamt)}}function nn(e){return Y("recoil_hamt_2020")?new tn(e):new Ga(e)}var ja={persistentMap:nn},Ha=ja.persistentMap,qa=Object.freeze({__proto__:null,persistentMap:Ha});function Ka(e,...t){const n=new Set;e:for(const o of e){for(const r of t)if(r.has(o))continue e;n.add(o)}return n}var nt=Ka;function Za(e,t){const n=new Map;return e.forEach((o,r)=>{n.set(r,t(o,r))}),n}var Tt=Za;function Qa(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Ya(e){return{nodeDeps:Tt(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:Tt(e.nodeToNodeSubscriptions,t=>new Set(t))}}function on(e,t,n){const{nodeDeps:o,nodeToNodeSubscriptions:r}=t;e.forEach((a,s)=>{const c=o.get(s);if(c&&n&&c!==n.nodeDeps.get(s))return;o.set(s,new Set(a)),(c==null?a:nt(a,c)).forEach(d=>{r.has(d)||r.set(d,new Set),K(r.get(d)).add(s)}),c&&nt(c,a).forEach(p=>{if(!r.has(p))return;const v=K(r.get(p));v.delete(s),v.size===0&&r.delete(p)})})}function Xa(e,t,n){var o,r,a,s;const c=t.getState();!(n===c.currentTree.version||n===((o=c.nextTree)===null||o===void 0?void 0:o.version)||n===((r=c.previousTree)===null||r===void 0?void 0:r.version));const l=t.getGraph(n);if(on(e,l),n===((a=c.previousTree)===null||a===void 0?void 0:a.version)){const p=t.getGraph(c.currentTree.version);on(e,p,l)}if(n===((s=c.previousTree)===null||s===void 0?void 0:s.version)||n===c.currentTree.version){var d;const p=(d=c.nextTree)===null||d===void 0?void 0:d.version;if(p!==void 0){const v=t.getGraph(p);on(e,v,l)}}}function Ja(e,t){e.forEach((n,o)=>{t.has(o)||t.set(o,new Set);const r=K(t.get(o));n.forEach(a=>r.add(a))})}function es(e,t,n){n.has(e)||n.set(e,new Set),K(n.get(e)).add(t)}var ot={addToDependencyMap:es,cloneGraph:Ya,graph:Qa,mergeDepsIntoDependencyMap:Ja,saveDependencyMapToStore:Xa};let ts=0;const ns=()=>ts++;let os=0;const rs=()=>os++;let as=0;const ss=()=>as++;var wt={getNextTreeStateVersion:ns,getNextStoreID:rs,getNextComponentID:ss};const{persistentMap:Kn}=qa,{graph:is}=ot,{getNextTreeStateVersion:Zn}=wt;function Qn(){const e=Zn();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Kn(),nonvalidatedAtoms:Kn()}}function cs(){const e=Qn();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,is()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Yn={makeEmptyTreeState:Qn,makeEmptyStoreState:cs,getNextTreeStateVersion:Zn};class Xn{}function ls(){return new Xn}var At={RetentionZone:Xn,retentionZone:ls};function us(e,t){const n=new Set(e);return n.add(t),n}function ds(e,t){const n=new Set(e);return n.delete(t),n}function fs(e,t,n){const o=new Map(e);return o.set(t,n),o}function hs(e,t,n){const o=new Map(e);return o.set(t,n(o.get(t))),o}function ps(e,t){const n=new Map(e);return n.delete(t),n}function vs(e,t){const n=new Map(e);return t.forEach(o=>n.delete(o)),n}var Jn={setByAddingToSet:us,setByDeletingFromSet:ds,mapBySettingInMap:fs,mapByUpdatingInMap:hs,mapByDeletingFromMap:ps,mapByDeletingMultipleFromMap:vs};function*ms(e,t){let n=0;for(const o of e)t(o,n++)&&(yield o)}var eo=ms;function _s(e,t){return new Proxy(e,{get:(o,r)=>(!(r in o)&&r in t&&(o[r]=t[r]()),o[r]),ownKeys:o=>Object.keys(o)})}var to=_s;const{getNode:rt,getNodeMaybe:Ss,recoilValuesForKeys:no}=_e,{RetentionZone:oo}=At,{setByAddingToSet:ys}=Jn,gs=Object.freeze(new Set);class Rs extends Error{}function bs(e,t,n){if(!Y("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:o}=e.getState().retention;function r(a){let s=o.get(a);s||o.set(a,s=new Set),s.add(t)}if(n instanceof oo)r(n);else if(Array.isArray(n))for(const a of n)r(a);return()=>{if(!Y("recoil_memory_managament_2020"))return;const{retention:a}=e.getState();function s(c){const l=a.nodesRetainedByZone.get(c);l==null||l.delete(t),l&&l.size===0&&a.nodesRetainedByZone.delete(c)}if(n instanceof oo)s(n);else if(Array.isArray(n))for(const c of n)s(c)}}function rn(e,t,n,o){const r=e.getState();if(r.nodeCleanupFunctions.has(n))return;const a=rt(n),s=bs(e,n,a.retainedBy),c=a.init(e,t,o);r.nodeCleanupFunctions.set(n,()=>{c(),s()})}function Ts(e,t,n){rn(e,e.getState().currentTree,t,n)}function ws(e,t){var n;const o=e.getState();(n=o.nodeCleanupFunctions.get(t))===null||n===void 0||n(),o.nodeCleanupFunctions.delete(t)}function As(e,t,n){return rn(e,t,n,"get"),rt(n).get(e,t)}function ro(e,t,n){return rt(n).peek(e,t)}function Ns(e,t,n){var o;const r=Ss(t);return r==null||(o=r.invalidate)===null||o===void 0||o.call(r,e),de(ce({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:ys(e.dirtyAtoms,t)})}function Es(e,t,n,o){const r=rt(n);if(r.set==null)throw new Rs(`Attempt to set read-only RecoilValue: ${n}`);const a=r.set;return rn(e,t,n,"set"),a(e,t,o)}function Ls(e,t,n){const o=e.getState(),r=e.getGraph(t.version),a=rt(n).nodeType;return to({type:a},{loadable:()=>ro(e,t,n),isActive:()=>o.knownAtoms.has(n)||o.knownSelectors.has(n),isSet:()=>a==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var s;return no((s=r.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,c;return{nodes:no(eo(ao(e,t,new Set([n])),l=>l!==n)),components:Jt((s=(c=o.nodeToComponentSubscriptions.get(n))===null||c===void 0?void 0:c.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function ao(e,t,n){const o=new Set,r=Array.from(n),a=e.getGraph(t.version);for(let c=r.pop();c;c=r.pop()){var s;o.add(c);const l=(s=a.nodeToNodeSubscriptions.get(c))!==null&&s!==void 0?s:gs;for(const d of l)o.has(d)||r.push(d)}return o}var Me={getNodeLoadable:As,peekNodeLoadable:ro,setNodeValue:Es,initializeNode:Ts,cleanUpNode:ws,setUnvalidatedAtomValue_DEPRECATED:Ns,peekNodeInfo:Ls,getDownstreamNodes:ao},an,sn,cn;const Vs=(an=X.createMutableSource)!==null&&an!==void 0?an:X.unstable_createMutableSource,so=(sn=X.useMutableSource)!==null&&sn!==void 0?sn:X.unstable_useMutableSource,io=(cn=X.useSyncExternalStore)!==null&&cn!==void 0?cn:X.unstable_useSyncExternalStore;function Cs(){return Y("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Y("recoil_sync_external_store")&&io!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Y("recoil_mutable_source")&&so!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Y("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Y("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var Nt={createMutableSource:Vs,useMutableSource:so,useSyncExternalStore:io,reactMode:Cs};const{getDownstreamNodes:$s,getNodeLoadable:co,setNodeValue:Ms}=Me,{getNextComponentID:ks}=wt,{getNode:Is,getNodeMaybe:lo}=_e,{DefaultValue:ln,RecoilValueNotReady:Us}=_e,{reactMode:Ds}=Nt,{AbstractRecoilValue:xs,RecoilState:Bs,RecoilValueReadOnly:Ps,isRecoilValue:Os}=je;function Fs(e,{key:t},n=e.getState().currentTree){var o,r;const a=e.getState();!(n.version===a.currentTree.version||n.version===((o=a.nextTree)===null||o===void 0?void 0:o.version)||n.version===((r=a.previousTree)===null||r===void 0?void 0:r.version));const s=co(e,n,t);return s.state==="loading"&&s.contents.catch(()=>{}),s}function zs(e,t){const n=e.clone();return t.forEach((o,r)=>{o.state==="hasValue"&&o.contents instanceof ln?n.delete(r):n.set(r,o)}),n}function Ws(e,t,{key:n},o){if(typeof o=="function"){const r=co(e,t,n);if(r.state==="loading")throw new Us(n);if(r.state==="hasError")throw r.contents;return o(r.contents)}else return o}function Gs(e,t,n){if(n.type==="set"){const{recoilValue:r,valueOrUpdater:a}=n,s=Ws(e,t,r,a),c=Ms(e,t,r.key,s);for(const[l,d]of c.entries())un(t,l,d)}else if(n.type==="setLoadable"){const{recoilValue:{key:r},loadable:a}=n;un(t,r,a)}else if(n.type==="markModified"){const{recoilValue:{key:r}}=n;t.dirtyAtoms.add(r)}else if(n.type==="setUnvalidated"){var o;const{recoilValue:{key:r},unvalidatedValue:a}=n,s=lo(r);s==null||(o=s.invalidate)===null||o===void 0||o.call(s,t),t.atomValues.delete(r),t.nonvalidatedAtoms.set(r,a),t.dirtyAtoms.add(r)}else Gn(`Unknown action ${n.type}`)}function un(e,t,n){n.state==="hasValue"&&n.contents instanceof ln?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function uo(e,t){e.replaceState(n=>{const o=fo(n);for(const r of t)Gs(e,o,r);return dn(e,o),o})}function Et(e,t){if(at.length){const n=at[at.length-1];let o=n.get(e);o||n.set(e,o=[]),o.push(t)}else uo(e,[t])}const at=[];function js(){const e=new Map;return at.push(e),()=>{for(const[t,n]of e)uo(t,n);at.pop()}}function fo(e){return de(ce({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function dn(e,t){const n=$s(e,t,t.dirtyAtoms);for(const a of n){var o,r;(o=lo(a))===null||o===void 0||(r=o.invalidate)===null||r===void 0||r.call(o,t)}}function ho(e,t,n){Et(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function Hs(e,t,n){if(n instanceof ln)return ho(e,t,n);Et(e,{type:"setLoadable",recoilValue:t,loadable:n})}function qs(e,t){Et(e,{type:"markModified",recoilValue:t})}function Ks(e,t,n){Et(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function Zs(e,{key:t},n,o=null){const r=ks(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),K(a.nodeToComponentSubscriptions.get(t)).set(r,[o!=null?o:"<not captured>",n]);const s=Ds();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const c=e.getState().nextTree;c&&c.dirtyAtoms.has(t)&&n(c)}return{release:()=>{const c=e.getState(),l=c.nodeToComponentSubscriptions.get(t);l===void 0||!l.has(r)||(l.delete(r),l.size===0&&c.nodeToComponentSubscriptions.delete(t))}}}function Qs(e,t){var n;const{currentTree:o}=e.getState(),r=Is(t.key);(n=r.clearCache)===null||n===void 0||n.call(r,e,o)}var Te={RecoilValueReadOnly:Ps,AbstractRecoilValue:xs,RecoilState:Bs,getRecoilValueAsLoadable:Fs,setRecoilValue:ho,setRecoilValueLoadable:Hs,markRecoilValueModified:qs,setUnvalidatedRecoilValue:Ks,subscribeToRecoilValue:Zs,isRecoilValue:Os,applyAtomValueWrites:zs,batchStart:js,writeLoadableToTreeState:un,invalidateDownstreams:dn,copyTreeState:fo,refreshRecoilValue:Qs,invalidateDownstreams_FOR_TESTING:dn};function Ys(e,t,n){const o=e.entries();let r=o.next();for(;!r.done;){const a=r.value;if(t.call(n,a[1],a[0],e))return!0;r=o.next()}return!1}var Xs=Ys;const{cleanUpNode:Js}=Me,{deleteNodeConfigIfPossible:ei,getNode:po}=_e,{RetentionZone:vo}=At,ti=12e4,mo=new Set;function _o(e,t){const n=e.getState(),o=n.currentTree;if(n.nextTree)return;const r=new Set;for(const s of t)if(s instanceof vo)for(const c of ai(n,s))r.add(c);else r.add(s);const a=ni(e,r);for(const s of a)ri(e,o,s)}function ni(e,t){const n=e.getState(),o=n.currentTree,r=e.getGraph(o.version),a=new Set,s=new Set;return c(t),a;function c(l){const d=new Set,p=oi(e,o,l,a,s);for(const g of p){var v;if(po(g).retainedBy==="recoilRoot"){s.add(g);continue}if(((v=n.retention.referenceCounts.get(g))!==null&&v!==void 0?v:0)>0){s.add(g);continue}if(So(g).some(P=>n.retention.referenceCounts.get(P))){s.add(g);continue}const A=r.nodeToNodeSubscriptions.get(g);if(A&&Xs(A,P=>s.has(P))){s.add(g);continue}a.add(g),d.add(g)}const E=new Set;for(const g of d)for(const A of(N=r.nodeDeps.get(g))!==null&&N!==void 0?N:mo){var N;a.has(A)||E.add(A)}E.size&&c(E)}}function oi(e,t,n,o,r){const a=e.getGraph(t.version),s=[],c=new Set;for(;n.size>0;)l(K(n.values().next().value));return s;function l(d){if(o.has(d)||r.has(d)){n.delete(d);return}if(c.has(d))return;const p=a.nodeToNodeSubscriptions.get(d);if(p)for(const v of p)l(v);c.add(d),n.delete(d),s.push(d)}}function ri(e,t,n){if(!Y("recoil_memory_managament_2020"))return;Js(e,n);const o=e.getState();o.knownAtoms.delete(n),o.knownSelectors.delete(n),o.nodeTransactionSubscriptions.delete(n),o.retention.referenceCounts.delete(n);const r=So(n);for(const l of r){var a;(a=o.retention.nodesRetainedByZone.get(l))===null||a===void 0||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const s=o.graphsByVersion.get(t.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const d of l){var c;(c=s.nodeToNodeSubscriptions.get(d))===null||c===void 0||c.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}ei(n)}function ai(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:mo}function So(e){const t=po(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof vo?[t]:t}function si(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):_o(e,new Set([t]))}function ii(e,t,n){var o;if(!Y("recoil_memory_managament_2020"))return;const r=e.getState().retention.referenceCounts,a=((o=r.get(t))!==null&&o!==void 0?o:0)+n;a===0?yo(e,t):r.set(t,a)}function yo(e,t){if(!Y("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),si(e,t)}function ci(e){if(!Y("recoil_memory_managament_2020"))return;const t=e.getState();_o(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function li(e){return e===void 0?"recoilRoot":e}var Oe={SUSPENSE_TIMEOUT_MS:ti,updateRetainCount:ii,updateRetainCountToZero:yo,releaseScheduledRetainablesNow:ci,retainedByOptionWithDefault:li};const{unstable_batchedUpdates:ui}=ra;var di={unstable_batchedUpdates:ui};const{unstable_batchedUpdates:fi}=di;var hi={unstable_batchedUpdates:fi};const{batchStart:pi}=Te,{unstable_batchedUpdates:vi}=hi;let fn=vi;const mi=e=>{fn=e},_i=()=>fn,Si=e=>{fn(()=>{let t=()=>{};try{t=pi(),e()}finally{t()}})};var Lt={getBatcher:_i,setBatcher:mi,batchUpdates:Si};function*yi(e){for(const t of e)for(const n of t)yield n}var gi=yi;const Ri=typeof window=="undefined",bi=typeof navigator!="undefined"&&navigator.product==="ReactNative";var hn={isSSR:Ri,isReactNative:bi};function Ti(e,t){let n;return(...r)=>{n||(n={});const a=t(...r);return Object.hasOwnProperty.call(n,a)||(n[a]=e.apply(this,r)),n[a]}}function wi(e,t){let n,o;return(...a)=>{const s=t(...a);return n===s||(n=s,o=e.apply(this,a)),o}}function Ai(e,t){let n,o;return[(...s)=>{const c=t(...s);return n===c||(n=c,o=e.apply(this,s)),o},()=>{n=null}]}var Ni={memoizeWithArgsHash:Ti,memoizeOneWithArgsHash:wi,memoizeOneWithArgsHashAndInvalidation:Ai};const{batchUpdates:pn}=Lt,{initializeNode:Ei,peekNodeInfo:Li}=Me,{graph:Vi}=ot,{getNextStoreID:Ci}=wt,{DEFAULT_VALUE:$i,recoilValues:go,recoilValuesForKeys:Ro}=_e,{AbstractRecoilValue:Mi,getRecoilValueAsLoadable:ki,setRecoilValue:bo,setUnvalidatedRecoilValue:Ii}=Te,{updateRetainCount:Vt}=Oe,{getNextTreeStateVersion:Ui,makeEmptyStoreState:Di}=Yn,{isSSR:xi}=hn,{memoizeOneWithArgsHashAndInvalidation:Bi}=Ni;class Ct{constructor(t){x(this,"_store",void 0),x(this,"_refCount",1),x(this,"getLoadable",n=>(this.checkRefCount_INTERNAL(),ki(this._store,n))),x(this,"getPromise",n=>(this.checkRefCount_INTERNAL(),this.getLoadable(n).toPromise())),x(this,"getNodes_UNSTABLE",n=>{if(this.checkRefCount_INTERNAL(),(n==null?void 0:n.isModified)===!0){if((n==null?void 0:n.isInitialized)===!1)return[];const a=this._store.getState().currentTree;return Ro(a.dirtyAtoms)}const o=this._store.getState().knownAtoms,r=this._store.getState().knownSelectors;return(n==null?void 0:n.isInitialized)==null?go.values():n.isInitialized===!0?Ro(gi([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):eo(go.values(),({key:a})=>!o.has(a)&&!r.has(a))}),x(this,"getInfo_UNSTABLE",({key:n})=>(this.checkRefCount_INTERNAL(),Li(this._store,this._store.getState().currentTree,n))),x(this,"map",n=>{this.checkRefCount_INTERNAL();const o=new vn(this,pn);return n(o),o}),x(this,"asyncMap",async n=>{this.checkRefCount_INTERNAL();const o=new vn(this,pn);return o.retain(),await n(o),o.autoRelease_INTERNAL(),o}),this._store={storeID:Ci(),getState:()=>t,replaceState:n=>{t.currentTree=n(t.currentTree)},getGraph:n=>{const o=t.graphsByVersion;if(o.has(n))return K(o.get(n));const r=Vi();return o.set(n,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw F("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)Ei(this._store,n,"get"),Vt(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){xi||window.setTimeout(()=>this._release(),0)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!Y("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Y("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function To(e,t,n=!1){const o=e.getState(),r=n?Ui():t.version;return{currentTree:n?{version:r,stateID:r,transactionMetadata:ce({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(o.knownAtoms),knownSelectors:new Set(o.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(r,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Jt(o.nodeCleanupFunctions.entries(),([a])=>[a,()=>{}]))}}function Pi(e){const t=new Ct(Di());return e!=null?t.map(e):t}const[wo,Oi]=Bi((e,t)=>{const n=e.getState(),o=t==="current"?n.currentTree:K(n.previousTree);return new Ct(To(e,o))},(e,t)=>{var n;return String(t)+String(e.storeID)+String(e.getState().currentTree.version)+String((n=e.getState().previousTree)===null||n===void 0?void 0:n.version)});function Fi(e,t="current"){const n=wo(e,t);return n.isRetained()?n:(Oi(),wo(e,t))}class vn extends Ct{constructor(t,n){super(To(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0));x(this,"_batch",void 0),x(this,"set",(o,r)=>{this.checkRefCount_INTERNAL();const a=this.getStore_INTERNAL();this._batch(()=>{Vt(a,o.key,1),bo(this.getStore_INTERNAL(),o,r)})}),x(this,"reset",o=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();this._batch(()=>{Vt(r,o.key,1),bo(this.getStore_INTERNAL(),o,$i)})}),x(this,"setUnvalidatedAtomValues_DEPRECATED",o=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();pn(()=>{for(const[a,s]of o.entries())Vt(r,a,1),Ii(r,new Mi(a),s)})}),this._batch=n}}var $t={Snapshot:Ct,MutableSnapshot:vn,freshSnapshot:Pi,cloneSnapshot:Fi},zi=$t.Snapshot,Wi=$t.MutableSnapshot,Gi=$t.freshSnapshot,ji=$t.cloneSnapshot,Mt=Object.freeze({__proto__:null,Snapshot:zi,MutableSnapshot:Wi,freshSnapshot:Gi,cloneSnapshot:ji});function Hi(...e){const t=new Set;for(const n of e)for(const o of n)t.add(o);return t}var qi=Hi;const{useRef:Ki}=X;function Zi(e){const t=Ki(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var Ao=Zi;const{getNextTreeStateVersion:Qi,makeEmptyStoreState:No}=Yn,{cleanUpNode:Yi,getDownstreamNodes:Xi,initializeNode:Ji,setNodeValue:ec,setUnvalidatedAtomValue_DEPRECATED:tc}=Me,{graph:nc}=ot,{cloneGraph:oc}=ot,{getNextStoreID:Eo}=wt,{createMutableSource:mn,reactMode:Lo}=Nt,{applyAtomValueWrites:rc}=Te,{releaseScheduledRetainablesNow:Vo}=Oe,{freshSnapshot:ac}=Mt,{useCallback:sc,useContext:Co,useEffect:_n,useMemo:ic,useRef:cc,useState:lc}=X;function st(){throw F("This component must be used inside a <RecoilRoot> component.")}const $o=Object.freeze({storeID:Eo(),getState:st,replaceState:st,getGraph:st,subscribeToTransactions:st,addTransactionMetadata:st});let Sn=!1;function Mo(e){if(Sn)throw F("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){Y("recoil_memory_managament_2020")&&Y("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Vo(e);const n=t.currentTree.version,o=Qi();t.nextTree=de(ce({},t.currentTree),{version:o,stateID:o,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(o,oc(K(t.graphsByVersion.get(n))))}}const ko=X.createContext({current:$o}),kt=()=>Co(ko),Io=X.createContext(null);function uc(){return Co(Io)}function yn(e,t,n){const o=Xi(e,n,n.dirtyAtoms);for(const r of o){const a=t.nodeToComponentSubscriptions.get(r);if(a)for(const[s,[c,l]]of a)l(n)}}function Uo(e){const t=e.getState(),n=t.currentTree,o=n.dirtyAtoms;if(o.size){for(const[r,a]of t.nodeTransactionSubscriptions)if(o.has(r))for(const[s,c]of a)c(e);for(const[r,a]of t.transactionSubscriptions)a(e);(!Lo().early||t.suspendedComponentResolvers.size>0)&&(yn(e,t,n),t.suspendedComponentResolvers.forEach(r=>r()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(r=>r(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function dc(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n===null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Uo(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):Gn("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Y("recoil_memory_managament_2020")&&Vo(e)}finally{t.commitDepth--}}function fc({setNotifyBatcherOfChange:e}){const t=kt(),[,n]=lc([]);return e(()=>n({})),_n(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),_n(()=>{Fa.enqueueExecution("Batcher",()=>{dc(t.current)})}),null}function hc(e,t){const n=No();return t({set:(o,r)=>{const a=n.currentTree,s=ec(e,a,o.key,r),c=new Set(s.keys()),l=a.nonvalidatedAtoms.clone();for(const d of c)l.delete(d);n.currentTree=de(ce({},a),{dirtyAtoms:qi(a.dirtyAtoms,c),atomValues:rc(a.atomValues,s),nonvalidatedAtoms:l})},setUnvalidatedAtomValues:o=>{o.forEach((r,a)=>{n.currentTree=tc(n.currentTree,a,r)})}}),n}function pc(e){const t=ac().map(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(o=>o()),n.nodeCleanupFunctions.clear(),n}let Do=0;function vc({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:o}){let r;const a=N=>{const g=r.current.graphsByVersion;if(g.has(N))return K(g.get(N));const A=nc();return g.set(N,A),A},s=(N,g)=>{if(g==null){const{transactionSubscriptions:A}=v.current.getState(),P=Do++;return A.set(P,N),{release:()=>{A.delete(P)}}}else{const{nodeTransactionSubscriptions:A}=v.current.getState();A.has(g)||A.set(g,new Map);const P=Do++;return K(A.get(g)).set(P,N),{release:()=>{const w=A.get(g);w&&(w.delete(P),w.size===0&&A.delete(g))}}}},c=N=>{Mo(v.current);for(const g of Object.keys(N))K(v.current.getState().nextTree).transactionMetadata[g]=N[g]},l=N=>{Mo(v.current);const g=K(r.current.nextTree);let A;try{Sn=!0,A=N(g)}finally{Sn=!1}A!==g&&(r.current.nextTree=A,Lo().early&&yn(v.current,r.current,A),K(d.current)())},d=cc(null),p=sc(N=>{d.current=N},[d]),v=Ao(()=>n!=null?n:{storeID:Eo(),getState:()=>r.current,replaceState:l,getGraph:a,subscribeToTransactions:s,addTransactionMetadata:c});n!=null&&(v.current=n),r=Ao(()=>e!=null?hc(v.current,e):t!=null?pc(t):No());const E=ic(()=>mn==null?void 0:mn(r,()=>r.current.currentTree.version),[r]);return _n(()=>{const N=v.current;for(const g of new Set(N.getState().knownAtoms))Ji(N,g,"get");return()=>{for(const g of N.getState().knownAtoms)Yi(N,g)}},[v]),X.createElement(ko.Provider,{value:v},X.createElement(Io.Provider,{value:E},X.createElement(fc,{setNotifyBatcherOfChange:p}),o))}function mc(e){const r=e,{override:t}=r,n=mt(r,["override"]),o=kt();return t===!1&&o.current!==$o?e.children:X.createElement(vc,n)}function _c(){return kt().current.storeID}var $e={RecoilRoot:mc,useStoreRef:kt,useRecoilMutableSource:uc,useRecoilStoreID:_c,notifyComponents_FOR_TESTING:yn,sendEndOfBatchNotifications_FOR_TESTING:Uo};function Sc(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(e[n]!==t[n])return!1;return!0}var yc=Sc;const{useEffect:gc,useRef:Rc}=X;function bc(e){const t=Rc();return gc(()=>{t.current=e}),t.current}var xo=bc;const{useStoreRef:Tc}=$e,{SUSPENSE_TIMEOUT_MS:wc}=Oe,{updateRetainCount:it}=Oe,{RetentionZone:Ac}=At,{useEffect:Nc,useRef:Ec}=X,{isSSR:Bo}=hn;function Lc(e){if(!!Y("recoil_memory_managament_2020"))return Vc(e)}function Vc(e){const n=(Array.isArray(e)?e:[e]).map(s=>s instanceof Ac?s:s.key),o=Tc();Nc(()=>{if(!Y("recoil_memory_managament_2020"))return;const s=o.current;if(r.current&&!Bo)window.clearTimeout(r.current),r.current=null;else for(const c of n)it(s,c,1);return()=>{for(const c of n)it(s,c,-1)}},[o,...n]);const r=Ec(),a=xo(n);if(!Bo&&(a===void 0||!yc(a,n))){const s=o.current;for(const c of n)it(s,c,1);if(a)for(const c of a)it(s,c,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{r.current=null;for(const c of n)it(s,c,-1)},wc)}}var gn=Lc;const{useRef:Cc}=X;function $c(){return Cc(),"<component name not available>"}var ct=$c;const{batchUpdates:Mc}=Lt,{DEFAULT_VALUE:Po}=_e,{reactMode:He,useMutableSource:kc,useSyncExternalStore:Ic}=Nt,{useRecoilMutableSource:Uc,useStoreRef:we}=$e,{AbstractRecoilValue:Rn,getRecoilValueAsLoadable:lt,setRecoilValue:It,setUnvalidatedRecoilValue:Dc,subscribeToRecoilValue:qe}=Te,{useCallback:Se,useEffect:Ke,useMemo:Oo,useRef:ut,useState:bn}=X,{setByAddingToSet:xc}=Jn;function Tn(e,t,n){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(r=>{n.current.getState().suspendedComponentResolvers.add(r)}):e.state==="hasError"?e.contents:F(`Invalid value of loadable atom "${t.key}"`)}function Bc(){const e=ct(),t=we(),[,n]=bn([]),o=ut(new Set);o.current=new Set;const r=ut(new Set),a=ut(new Map),s=Se(l=>{const d=a.current.get(l);d&&(d.release(),a.current.delete(l))},[a]),c=Se((l,d)=>{a.current.has(d)&&n([])},[]);return Ke(()=>{const l=t.current;nt(o.current,r.current).forEach(d=>{if(a.current.has(d))return;const p=qe(l,new Rn(d),E=>c(E,d),e);a.current.set(d,p),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{c(l.getState(),d)}):c(l.getState(),d)}),nt(r.current,o.current).forEach(d=>{s(d)}),r.current=o.current}),Ke(()=>{const l=a.current;return nt(o.current,new Set(l.keys())).forEach(d=>{const p=qe(t.current,new Rn(d),v=>c(v,d),e);l.set(d,p)}),()=>l.forEach((d,p)=>s(p))},[e,t,s,c]),Oo(()=>{function l(g){return A=>{It(t.current,g,A)}}function d(g){return()=>It(t.current,g,Po)}function p(g){var A;o.current.has(g.key)||(o.current=xc(o.current,g.key));const P=t.current.getState();return lt(t.current,g,He().early&&(A=P.nextTree)!==null&&A!==void 0?A:P.currentTree)}function v(g){const A=p(g);return Tn(A,g,t)}function E(g){return[v(g),l(g)]}function N(g){return[p(g),l(g)]}return{getRecoilValue:v,getRecoilValueLoadable:p,getRecoilState:E,getRecoilStateLoadable:N,getSetRecoilState:l,getResetRecoilState:d}},[o,t])}const Pc={current:0};function Oc(e){const t=we(),n=ct(),o=Se(()=>{var c;const l=t.current,d=l.getState(),p=He().early&&(c=d.nextTree)!==null&&c!==void 0?c:d.currentTree;return{loadable:lt(l,e,p),key:e.key}},[t,e]),r=Se(c=>{let l;return()=>{var d,p;const v=c();return(d=l)!==null&&d!==void 0&&d.loadable.is(v.loadable)&&((p=l)===null||p===void 0?void 0:p.key)===v.key?l:(l=v,v)}},[]),a=Oo(()=>r(o),[o,r]),s=Se(c=>{const l=t.current;return qe(l,e,c,n).release},[t,e,n]);return Ic(s,a,a).loadable}function Fc(e){const t=we(),n=Se(()=>{var d;const p=t.current,v=p.getState(),E=He().early&&(d=v.nextTree)!==null&&d!==void 0?d:v.currentTree;return lt(p,e,E)},[t,e]),o=Se(()=>n(),[n]),r=ct(),a=Se((d,p)=>{const v=t.current;return qe(v,e,()=>{if(!Y("recoil_suppress_rerender_in_callback"))return p();const N=n();l.current.is(N)||p(),l.current=N},r).release},[t,e,r,n]),s=Uc();if(s==null)throw F("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const c=kc(s,o,a),l=ut(c);return Ke(()=>{l.current=c}),c}function Fo(e){const t=we(),n=ct(),o=Se(()=>{var l;const d=t.current,p=d.getState(),v=He().early&&(l=p.nextTree)!==null&&l!==void 0?l:p.currentTree;return lt(d,e,v)},[t,e]),r=Se(()=>({loadable:o(),key:e.key}),[o,e.key]),a=Se(l=>{const d=r();return l.loadable.is(d.loadable)&&l.key===d.key?l:d},[r]);Ke(()=>{const l=qe(t.current,e,d=>{c(a)},n);return c(a),l.release},[n,e,t,a]);const[s,c]=bn(r);return s.key!==e.key?r().loadable:s.loadable}function zc(e){const t=we(),[,n]=bn([]),o=ct(),r=Se(()=>{var c;const l=t.current,d=l.getState(),p=He().early&&(c=d.nextTree)!==null&&c!==void 0?c:d.currentTree;return lt(l,e,p)},[t,e]),a=r(),s=ut(a);return Ke(()=>{s.current=a}),Ke(()=>{const c=t.current,l=c.getState(),d=qe(c,e,v=>{var E;if(!Y("recoil_suppress_rerender_in_callback"))return n([]);const N=r();(E=s.current)!==null&&E!==void 0&&E.is(N)||n(N),s.current=N},o);if(l.nextTree)c.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var p;if(!Y("recoil_suppress_rerender_in_callback"))return n([]);const v=r();(p=s.current)!==null&&p!==void 0&&p.is(v)||n(v),s.current=v}return d.release},[o,r,e,t]),a}function wn(e){return Y("recoil_memory_managament_2020")&&gn(e),{TRANSITION_SUPPORT:Fo,SYNC_EXTERNAL_STORE:Oc,MUTABLE_SOURCE:Fc,LEGACY:zc}[He().mode](e)}function zo(e){const t=we(),n=wn(e);return Tn(n,e,t)}function Ut(e){const t=we();return Se(n=>{It(t.current,e,n)},[t,e])}function Wc(e){const t=we();return Se(()=>{It(t.current,e,Po)},[t,e])}function Gc(e){return[zo(e),Ut(e)]}function jc(e){return[wn(e),Ut(e)]}function Hc(){const e=we();return(t,n={})=>{Mc(()=>{e.current.addTransactionMetadata(n),t.forEach((o,r)=>Dc(e.current,new Rn(r),o))})}}function Wo(e){return Y("recoil_memory_managament_2020")&&gn(e),Fo(e)}function Go(e){const t=we(),n=Wo(e);return Tn(n,e,t)}function qc(e){return[Go(e),Ut(e)]}var Kc={recoilComponentGetRecoilValueCount_FOR_TESTING:Pc,useRecoilInterface:Bc,useRecoilState:Gc,useRecoilStateLoadable:jc,useRecoilValue:zo,useRecoilValueLoadable:wn,useResetRecoilState:Wc,useSetRecoilState:Ut,useSetUnvalidatedAtomValues:Hc,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Wo,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Go,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:qc};function Zc(e,t){const n=new Map;for(const[o,r]of e)t(r,o)&&n.set(o,r);return n}var Qc=Zc;function Yc(e,t){const n=new Set;for(const o of e)t(o)&&n.add(o);return n}var Xc=Yc;function Jc(...e){const t=new Map;for(let n=0;n<e.length;n++){const o=e[n].keys();let r;for(;!(r=o.next()).done;)t.set(r.value,e[n].get(r.value))}return t}var el=Jc;const{batchUpdates:tl}=Lt,{DEFAULT_VALUE:nl,getNode:jo,nodes:ol}=_e,{useStoreRef:An}=$e,{AbstractRecoilValue:rl,setRecoilValueLoadable:al}=Te,{SUSPENSE_TIMEOUT_MS:sl}=Oe,{cloneSnapshot:Dt}=Mt,{useCallback:xt,useEffect:Ho,useRef:qo,useState:il}=X,{isSSR:Ko}=hn;function Bt(e){const t=An();Ho(()=>t.current.subscribeToTransactions(e).release,[e,t])}function Zo(e){const t=e.atomValues.toMap(),n=Tt(Qc(t,(o,r)=>{const s=jo(r).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&o.state==="hasValue"}),o=>o.contents);return el(e.nonvalidatedAtoms.toMap(),n)}function cl(e){Bt(xt(t=>{let n=t.getState().previousTree;const o=t.getState().currentTree;n||(n=t.getState().currentTree);const r=Zo(o),a=Zo(n),s=Tt(ol,l=>{var d,p,v,E;return{persistence_UNSTABLE:{type:(d=(p=l.persistence_UNSTABLE)===null||p===void 0?void 0:p.type)!==null&&d!==void 0?d:"none",backButton:(v=(E=l.persistence_UNSTABLE)===null||E===void 0?void 0:E.backButton)!==null&&v!==void 0?v:!1}}}),c=Xc(o.dirtyAtoms,l=>r.has(l)||a.has(l));e({atomValues:r,previousAtomValues:a,atomInfo:s,modifiedAtoms:c,transactionMetadata:ce({},o.transactionMetadata)})},[e]))}function ll(e){Bt(xt(t=>{const n=Dt(t,"current"),o=Dt(t,"previous");e({snapshot:n,previousSnapshot:o})},[e]))}function ul(){const e=An(),[t,n]=il(()=>Dt(e.current)),o=xo(t),r=qo(),a=qo();if(Bt(xt(c=>n(Dt(c)),[])),Ho(()=>{const c=t.retain();if(r.current&&!Ko){var l;window.clearTimeout(r.current),r.current=null,(l=a.current)===null||l===void 0||l.call(a),a.current=null}return c},[t]),o!==t&&!Ko){if(r.current){var s;window.clearTimeout(r.current),r.current=null,(s=a.current)===null||s===void 0||s.call(a),a.current=null}a.current=t.retain(),r.current=window.setTimeout(()=>{var c;r.current=null,(c=a.current)===null||c===void 0||c.call(a),a.current=null},sl)}return t}function Qo(e,t){var n;const o=e.getState(),r=(n=o.nextTree)!==null&&n!==void 0?n:o.currentTree,a=t.getStore_INTERNAL().getState().currentTree;tl(()=>{const s=new Set;for(const d of[r.atomValues.keys(),a.atomValues.keys()])for(const p of d){var c,l;((c=r.atomValues.get(p))===null||c===void 0?void 0:c.contents)!==((l=a.atomValues.get(p))===null||l===void 0?void 0:l.contents)&&jo(p).shouldRestoreFromSnapshots&&s.add(p)}s.forEach(d=>{al(e,new rl(d),a.atomValues.has(d)?K(a.atomValues.get(d)):nl)}),e.replaceState(d=>de(ce({},d),{stateID:t.getID()}))})}function dl(){const e=An();return xt(t=>Qo(e.current,t),[e])}var Yo={useRecoilSnapshot:ul,gotoSnapshot:Qo,useGotoRecoilSnapshot:dl,useRecoilTransactionObserver:ll,useTransactionObservation_DEPRECATED:cl,useTransactionSubscription_DEPRECATED:Bt};const{peekNodeInfo:fl}=Me,{useStoreRef:hl}=$e;function pl(){const e=hl();return({key:t})=>fl(e.current,e.current.getState().currentTree,t)}var vl=pl;const{reactMode:ml}=Nt,{RecoilRoot:_l,useStoreRef:Sl}=$e,{useMemo:yl}=X;function gl(){ml().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=Sl().current;return yl(()=>{function t({children:n}){return X.createElement(_l,{store_INTERNAL:e},n)}return t},[e])}var Rl=gl;const{loadableWithValue:bl}=tt,{initializeNode:Tl}=Me,{DEFAULT_VALUE:wl,getNode:Al}=_e,{copyTreeState:Nl,getRecoilValueAsLoadable:El,invalidateDownstreams:Ll,writeLoadableToTreeState:Vl}=Te;function Xo(e){return Al(e.key).nodeType==="atom"}class Cl{constructor(t,n){x(this,"_store",void 0),x(this,"_treeState",void 0),x(this,"_changes",void 0),x(this,"get",o=>{if(this._changes.has(o.key))return this._changes.get(o.key);if(!Xo(o))throw F("Reading selectors within atomicUpdate is not supported");const r=El(this._store,o,this._treeState);if(r.state==="hasValue")return r.contents;throw r.state==="hasError"?r.contents:F(`Expected Recoil atom ${o.key} to have a value, but it is in a loading state.`)}),x(this,"set",(o,r)=>{if(!Xo(o))throw F("Setting selectors within atomicUpdate is not supported");if(typeof r=="function"){const a=this.get(o);this._changes.set(o.key,r(a))}else Tl(this._store,o.key,"set"),this._changes.set(o.key,r)}),x(this,"reset",o=>{this.set(o,wl)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=Nl(this._treeState);for(const[n,o]of this._changes)Vl(t,n,bl(o));return Ll(this._store,t),t}}function $l(e){return t=>{e.replaceState(n=>{const o=new Cl(e,n);return t(o),o.newTreeState_INTERNAL()})}}var Ml={atomicUpdater:$l},kl=Ml.atomicUpdater,Jo=Object.freeze({__proto__:null,atomicUpdater:kl});function Il(e,t){if(!e)throw new Error(t)}var Ul=Il,dt=Ul;const{atomicUpdater:Dl}=Jo,{batchUpdates:xl}=Lt,{DEFAULT_VALUE:Bl}=_e,{useStoreRef:Pl}=$e,{refreshRecoilValue:Ol,setRecoilValue:er}=Te,{Snapshot:rf,cloneSnapshot:Fl}=Mt,{gotoSnapshot:zl}=Yo,{useCallback:Wl}=X;class tr{}const Gl=new tr;function nr(e,t,n,o){let r=Gl;return xl(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw F(a);const s=to(de(ce({},o!=null?o:{}),{set:(l,d)=>er(e,l,d),reset:l=>er(e,l,Bl),refresh:l=>Ol(e,l),gotoSnapshot:l=>zl(e,l),transact_UNSTABLE:l=>Dl(e)(l)}),{snapshot:()=>Fl(e)}),c=t(s);if(typeof c!="function")throw F(a);r=c(...n)}),r instanceof tr&&dt(!1),r}function jl(e,t){const n=Pl();return Wl((...o)=>nr(n.current,e,o),t!=null?[...t,n]:void 0)}var or={recoilCallback:nr,useRecoilCallback:jl};const{useStoreRef:Hl}=$e,{refreshRecoilValue:ql}=Te,{useCallback:Kl}=X;function Zl(e){const t=Hl();return Kl(()=>{const n=t.current;ql(n,e)},[e,t])}var Ql=Zl;const{atomicUpdater:Yl}=Jo,{useStoreRef:Xl}=$e,{useMemo:Jl}=X;function eu(e,t){const n=Xl();return Jl(()=>(...o)=>{Yl(n.current)(a=>{e(a)(...o)})},t!=null?[...t,n]:void 0)}var tu=eu;class nu{constructor(t){var n,o,r;x(this,"_numLeafs",void 0),x(this,"_root",void 0),x(this,"_onHit",void 0),x(this,"_onSet",void 0),x(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(n=t==null?void 0:t.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(o=t==null?void 0:t.onSet)!==null&&o!==void 0?o:()=>{},this._mapNodeValue=(r=t==null?void 0:t.mapNodeValue)!==null&&r!==void 0?r:a=>a}size(){return this._numLeafs}root(){return this._root}get(t,n){var o;return(o=this.getLeafNode(t,n))===null||o===void 0?void 0:o.value}getLeafNode(t,n){return rr(this.root(),o=>this._mapNodeValue(t(o)),{onNodeVisit:o=>{n==null||n.onNodeVisit(o),o.type==="leaf"&&this._onHit(o)}})}set(t,n,o){let r,a=null;const s=()=>{a=Nn(this.root(),t.map(([c,l])=>[c,this._mapNodeValue(l)]),null,n,null,{onNodeVisit:c=>{o==null||o.onNodeVisit(c),c.type==="leaf"&&(r=c)}},()=>{this.clear(),s()})};s(),this.root()||(this._root=a),this._numLeafs++,this._onSet(K(r))}delete(t){if(!this.root())return!1;const n=K(this.root());return ou(n,t,t.parent)?t===n||n.type==="branch"&&!n.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=sr(t),!0):!1}clear(){this._numLeafs=0,this._root=null}}const rr=(e,t,n)=>{var o;if(e==null)return;if(n==null||(o=n.onNodeVisit)===null||o===void 0||o.call(n,e),e.type==="leaf")return e;const r=t(e.nodeKey);return rr(e.branches.get(r),t,n)},Nn=(e,t,n,o,r,a,s)=>{var c;let l;if(e==null)if(t.length===0)l={type:"leaf",value:o,parent:n,branchKey:r};else{const[d,...p]=t,[v,E]=d;l={type:"branch",nodeKey:v,parent:n,branches:new Map,branchKey:r},l.branches.set(E,Nn(null,p,l,o,E,a,s))}else if(l=e,t.length){const[d,...p]=t,[v,E]=d;if(e.type!=="branch"||e.nodeKey!==v)return s(),l;e.branches.set(E,Nn(e.branches.get(E),p,e,o,E,a,s))}return a==null||(c=a.onNodeVisit)===null||c===void 0||c.call(a,l),l},ou=(e,t,n)=>n?(n.branches.delete(t.branchKey),ar(e,n,n.parent)):e===t,ar=(e,t,n)=>n?(t.branches.size===0&&n.branches.delete(t.branchKey),ar(e,n,n.parent)):e===t,sr=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,n)=>t+sr(n),0);var ru={TreeCache:nu},au=ru.TreeCache,ir=Object.freeze({__proto__:null,TreeCache:au});class su{constructor(t){var n;x(this,"_maxSize",void 0),x(this,"_size",void 0),x(this,"_head",void 0),x(this,"_tail",void 0),x(this,"_map",void 0),x(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:o=>o}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),o=this._map.get(n);if(!!o)return this.set(t,o.value),o.value}set(t,n){const o=this._keyMapper(t);this._map.get(o)&&this.delete(t);const a=this.head(),s={key:t,right:a,left:null,value:n};a?a.left=s:this._tail=s,this._map.set(o,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const o=K(this._map.get(n)),r=o.right,a=o.left;r&&(r.left=o.left),a&&(a.right=o.right),o===this.head()&&(this._head=r),o===this.tail()&&(this._tail=a),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var iu={LRUCache:su},cu=iu.LRUCache,cr=Object.freeze({__proto__:null,LRUCache:cu});const{LRUCache:lu}=cr,{TreeCache:uu}=ir;function du(e,t=n=>n){const n=new lu({maxSize:e}),o=new uu({mapNodeValue:t,onHit:r=>{n.set(r,!0)},onSet:r=>{const a=n.tail();n.set(r,!0),a&&o.size()>e&&o.delete(a.key)}});return o}var lr=du;function be(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw F("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var o;return(o=JSON.stringify(e))!==null&&o!==void 0?o:""}if(oe(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((r,a)=>be(r,t,a.toString()))}]`;if(typeof e.toJSON=="function")return be(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[a,s]of e)r[typeof a=="string"?a:be(a,t)]=s;return be(r,t,n)}return e instanceof Set?be(Array.from(e).sort((r,a)=>be(r,t).localeCompare(be(a,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?be(Array.from(e),t,n):`{${Object.keys(e).filter(r=>e[r]!==void 0).sort().map(r=>`${be(r,t)}:${be(e[r],t,r)}`).join(",")}}`}function fu(e,t={allowFunctions:!1}){return be(e,t)}var Pt=fu;const{TreeCache:hu}=ir,Ot={equality:"reference",eviction:"keep-all",maxSize:1/0};function pu({equality:e=Ot.equality,eviction:t=Ot.eviction,maxSize:n=Ot.maxSize}=Ot){const o=vu(e);return mu(t,n,o)}function vu(e){switch(e){case"reference":return t=>t;case"value":return t=>Pt(t)}throw F(`Unrecognized equality policy ${e}`)}function mu(e,t,n){switch(e){case"keep-all":return new hu({mapNodeValue:n});case"lru":return lr(K(t),n);case"most-recent":return lr(1,n)}throw F(`Unrecognized eviction policy ${e}`)}var _u=pu;function Su(e){return()=>null}var yu={startPerfBlock:Su};const{loadableWithError:Ft,loadableWithPromise:gu,loadableWithValue:En}=tt,{getNodeLoadable:Ru,peekNodeLoadable:bu,setNodeValue:Tu}=Me,{saveDependencyMapToStore:wu}=ot,{DEFAULT_VALUE:Au,RecoilValueNotReady:Nu,getConfigDeletionHandler:Eu,getNode:Lu,registerNode:ur}=_e,{isRecoilValue:Vu}=je,{markRecoilValueModified:dr}=Te,{retainedByOptionWithDefault:Cu}=Oe,{recoilCallback:$u}=or,{startPerfBlock:Mu}=yu;class fr{}const ft=new fr,ht=[],zt=new Map,ku=(()=>{let e=0;return()=>e++})();function Iu(e){let t=null;const{key:n,get:o,cachePolicy_UNSTABLE:r}=e,a=e.set!=null?e.set:void 0,s=new Set,c=_u(r!=null?r:{equality:"reference",eviction:"keep-all"}),l=Cu(e.retainedBy_UNSTABLE),d=new Map;let p=0;function v(){return!Y("recoil_memory_managament_2020")||p>0}function E(f){return f.getState().knownSelectors.add(n),p++,()=>{p--}}function N(){return Eu(n)!==void 0&&!v()}function g(f,m,_,T,R){G(m,T,R),z(f,m,new Set(R.keys()),_),A(f,_)}function A(f,m){Ee(f,m)&&pe(f);const _=zt.get(m);if(_!==void 0){for(const T of _)dr(T,K(t));zt.delete(m)}}function P(f,m){let _=zt.get(m);_==null&&zt.set(m,_=new Set),_.add(f)}function w(f,m,_){const T=f.getState().knownSelectors.has(_);if(T&&m.atomValues.has(_))return K(m.atomValues.get(_));const R=Ru(f,m,_);return R.state!=="loading"&&T&&m.atomValues.set(_,R),R}function j(f,m,_,T,R,D){return m.then($=>{if(!v())throw pe(f),ft;const H=En($);return g(f,_,R,H,T),$}).catch($=>{if(!v())throw pe(f),ft;if(Ue(f,R,T),oe($))return Z(f,$,_,T,R,D);const H=Ft($);throw g(f,_,R,H,T),$})}function Z(f,m,_,T,R,D){return m.then($=>{if(!v())throw pe(f),ft;D.loadingDepKey!=null&&D.loadingDepPromise===m?_.atomValues.set(D.loadingDepKey,En($)):f.getState().knownSelectors.forEach(Q=>{_.atomValues.delete(Q)});const H=se(f,_);if(H&&H.state!=="loading"){if((Ee(f,R)||Ne(f)==null)&&A(f,R),H.state==="hasValue")return H.contents;throw H.contents}if(!Ee(f,R)){const Q=ne(_);if((Q==null?void 0:Q.latestLoadable.state)==="loading")return Q.latestLoadable.contents}const[J,re]=I(f,_,R);if(Ue(f,R,re),J.state!=="loading"&&g(f,_,R,J,re),J.state==="hasError")throw J.contents;return J.contents}).catch($=>{if($ instanceof fr)throw ft;if(!v())throw pe(f),ft;const H=Ft($);throw g(f,_,R,H,T),$})}function z(f,m,_,T){var R,D,$,H;if(Ee(f,T)||m.version===((R=f.getState())===null||R===void 0||(D=R.currentTree)===null||D===void 0?void 0:D.version)||m.version===(($=f.getState())===null||$===void 0||(H=$.nextTree)===null||H===void 0?void 0:H.version)){var J,re,Q;wu(new Map([[n,_]]),f,(J=(re=f.getState())===null||re===void 0||(Q=re.nextTree)===null||Q===void 0?void 0:Q.version)!==null&&J!==void 0?J:f.getState().currentTree.version),_.forEach(fe=>s.add(fe))}}function ae(f,m,_,T,R){_.add(T),z(f,m,_,R)}function I(f,m,_){const T=Mu(n);let R=!0;const D=()=>{T(),R=!1};let $,H=!1,J;const re={loadingDepKey:null,loadingDepPromise:null},Q=new Map,fe=new Set;z(f,m,fe,_);function De(Ve){const{key:ye}=Ve;ae(f,m,fe,ye,_);const Ce=w(f,m,ye);switch(Q.set(ye,Ce),Ce.state){case"hasValue":return Ce.contents;case"hasError":throw Ce.contents;case"loading":throw re.loadingDepKey=ye,re.loadingDepPromise=Ce.contents,Ce.contents}throw F("Invalid Loadable state")}const Ye=Ve=>(...ye)=>{if(R)throw F("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&dt(!1),$u(f,Ve,ye,{node:t})};try{$=o({get:De,getCallback:Ye}),$=Vu($)?De($):$,oe($)?$=j(f,$,m,Q,_,re).finally(D):D()}catch(Ve){$=Ve,oe($)?$=Z(f,$,m,Q,_,re).finally(D):(H=!0,D())}return H?J=Ft($):oe($)?J=gu($):J=En($),[J,Q]}function se(f,m){const _=new Set,T=Ne(f);let R;try{R=c.get(D=>(typeof D!="string"&&dt(!1),w(f,m,D).contents),{onNodeVisit:D=>{D.type==="branch"&&D.nodeKey!==n&&_.add(D.nodeKey)}})}catch(D){throw F(`Problem with cache lookup for selector "${n}": ${D.message}`)}return R&&z(f,m,_,T==null?void 0:T.latestExecutionId),R}function he(f){return Array.from(f.entries()).map(([m,_])=>[m,_.contents])}function O(f,m){const _=ku(),[T,R]=I(f,m,_);return T.state==="loading"?(ze(f,_,T,R,m),P(f,_)):(pe(f),G(m,T,R)),T}function U(f,m){const _=se(f,m);if(_!=null)return pe(f),_;const T=ne(m);if(T!=null){var R;return((R=T.latestLoadable)===null||R===void 0?void 0:R.state)==="loading"&&P(f,K(T.latestExecutionId)),K(T.latestLoadable)}return O(f,m)}function ne(f){var m;const[,_]=(m=Array.from(d.entries()).find(([T,R])=>R.latestLoadable!=null&&R.latestExecutionId!=null&&!Ae(T,f)))!==null&&m!==void 0?m:[];return _}const ee=new Map;function Ae(f,m){var _,T;const R=Ne(f),D=(_=R==null?void 0:R.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&_!==void 0?_:new Map,$=Array(((T=ee.get(m.version))!==null&&T!==void 0?T:new Map).entries()),H=ee.has(m.version)&&$.length===D.size&&$.every(([J,re])=>D.get(J)===re);return D==null||m.version===(R==null?void 0:R.stateVersion)||H?!1:(ee.set(m.version,new Map(D)),Array.from(D).some(([J,re])=>w(f,m,J).contents!==re.contents))}function Ne(f){return d.get(f)}function ze(f,m,_,T,R){d.set(f,{depValuesDiscoveredSoFarDuringAsyncWork:T,latestExecutionId:m,latestLoadable:_,stateVersion:R.version})}function Ue(f,m,_){if(Ee(f,m)){const T=Ne(f);T!=null&&(T.depValuesDiscoveredSoFarDuringAsyncWork=_)}}function pe(f){d.delete(f)}function Ee(f,m){var _;return m===((_=Ne(f))===null||_===void 0?void 0:_.latestExecutionId)}function G(f,m,_){f.atomValues.set(n,m);try{c.set(he(_),m)}catch(T){throw F(`Problem with setting cache for selector "${n}": ${T.message}`)}}function W(f){if(ht.includes(n)){const m=`Recoil selector has circular dependencies: ${ht.slice(ht.indexOf(n)).join(" \u2192 ")}`;return Ft(F(m))}ht.push(n);try{return f()}finally{ht.pop()}}function ie(f,m){return c.get(_=>{var T;return typeof _!="string"&&dt(!1),(T=bu(f,m,_))===null||T===void 0?void 0:T.contents})}function k(f,m){return W(()=>U(f,m))}function ve(f){f.atomValues.delete(n)}function Le(f,m){t==null&&dt(!1);for(const T of s){var _;const R=Lu(T);(_=R.clearCache)===null||_===void 0||_.call(R,f,m)}s.clear(),ve(m),c.clear(),dr(f,t)}return a!=null?t=ur({key:n,nodeType:"selector",peek:ie,get:k,set:(m,_,T)=>{let R=!1;const D=new Map;function $({key:Q}){if(R)throw F("Recoil: Async selector sets are not currently supported.");const fe=w(m,_,Q);if(fe.state==="hasValue")return fe.contents;throw fe.state==="loading"?new Nu(Q):fe.contents}function H(Q,fe){if(R)throw F("Recoil: Async selector sets are not currently supported.");const De=typeof fe=="function"?fe($(Q)):fe;Tu(m,_,Q.key,De).forEach((Ve,ye)=>D.set(ye,Ve))}function J(Q){H(Q,Au)}const re=a({set:H,get:$,reset:J},T);if(re!==void 0)throw oe(re)?F("Recoil: Async selector sets are not currently supported."):F("Recoil: selector set should be a void function.");return R=!0,D},init:E,invalidate:ve,clearCache:Le,shouldDeleteConfigOnRelease:N,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):t=ur({key:n,nodeType:"selector",peek:ie,get:k,init:E,invalidate:ve,clearCache:Le,shouldDeleteConfigOnRelease:N,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}var Wt=Iu;const{loadableWithError:Ln,loadableWithPromise:Vn,loadableWithValue:Ze}=tt,{peekNodeInfo:Uu}=Me,{DEFAULT_VALUE:Fe,DefaultValue:ke,getConfigDeletionHandler:hr,registerNode:Du,setConfigDeletionHandler:xu}=_e,{isRecoilValue:Bu}=je,{getRecoilValueAsLoadable:Pu,markRecoilValueModified:Ou,setRecoilValue:pr,setRecoilValueLoadable:Fu}=Te,{retainedByOptionWithDefault:zu}=Oe;function Wu(e){const{key:t,persistence_UNSTABLE:n}=e,o=zu(e.retainedBy_UNSTABLE);let r=0,a=oe(e.default)?Vn(e.default.then(w=>(a=Ze(w),w)).catch(w=>{throw a=Ln(w),w})):Ze(e.default);l(e.default);let s;const c=new Map;function l(w){return w}function d(w,j){const Z=j.then(z=>{var ae,I;return((I=((ae=w.getState().nextTree)!==null&&ae!==void 0?ae:w.getState().currentTree).atomValues.get(t))===null||I===void 0?void 0:I.contents)===Z&&pr(w,P,z),z}).catch(z=>{var ae,I;throw((I=((ae=w.getState().nextTree)!==null&&ae!==void 0?ae:w.getState().currentTree).atomValues.get(t))===null||I===void 0?void 0:I.contents)===Z&&Fu(w,P,Ln(z)),z});return Z}function p(w,j,Z){var z;r++;const ae=()=>{var O;r--,(O=c.get(w))===null||O===void 0||O.forEach(U=>U()),c.delete(w)};if(w.getState().knownAtoms.add(t),a.state==="loading"){const O=()=>{var U;((U=w.getState().nextTree)!==null&&U!==void 0?U:w.getState().currentTree).atomValues.has(t)||Ou(w,P)};a.contents.finally(O)}const I=(z=e.effects)!==null&&z!==void 0?z:e.effects_UNSTABLE;if(I!=null){let Ae=function(G){if(O&&G.key===t){const W=U;return W instanceof ke?v(w,j):oe(W)?Vn(W.then(ie=>ie instanceof ke?a.toPromise():ie)):Ze(W)}return Pu(w,G)},Ne=function(G){return Ae(G).toPromise()},ze=function(G){var W;const ie=Uu(w,(W=w.getState().nextTree)!==null&&W!==void 0?W:w.getState().currentTree,G.key);return O&&G.key===t&&!(U instanceof ke)?de(ce({},ie),{isSet:!0,loadable:Ae(G)}):ie},O=!0,U=Fe,ne=!1,ee=null;const Ue=G=>W=>{if(O){const ie=Ae(P),k=ie.state==="hasValue"?ie.contents:Fe;U=typeof W=="function"?W(k):W,oe(U)&&(U=U.then(ve=>(ee={effect:G,value:ve},ve)))}else{if(oe(W))throw F("Setting atoms to async values is not implemented.");typeof W!="function"&&(ee={effect:G,value:W}),pr(w,P,typeof W=="function"?ie=>{const k=W(ie);return ee={effect:G,value:k},k}:W)}},pe=G=>()=>Ue(G)(Fe),Ee=G=>W=>{var ie;const{release:k}=w.subscribeToTransactions(ve=>{var Le;let{currentTree:f,previousTree:m}=ve.getState();m||(m=f);const _=(Le=f.atomValues.get(t))!==null&&Le!==void 0?Le:a;if(_.state==="hasValue"){var T,R,D,$;const H=_.contents,J=(T=m.atomValues.get(t))!==null&&T!==void 0?T:a,re=J.state==="hasValue"?J.contents:Fe;((R=ee)===null||R===void 0?void 0:R.effect)!==G||((D=ee)===null||D===void 0?void 0:D.value)!==H?W(H,re,!f.atomValues.has(t)):(($=ee)===null||$===void 0?void 0:$.effect)===G&&(ee=null)}},t);c.set(w,[...(ie=c.get(w))!==null&&ie!==void 0?ie:[],k])};for(const G of I)try{const W=G({node:P,storeID:w.storeID,trigger:Z,setSelf:Ue(G),resetSelf:pe(G),onSet:Ee(G),getPromise:Ne,getLoadable:Ae,getInfo_UNSTABLE:ze});if(W!=null){var se;c.set(w,[...(se=c.get(w))!==null&&se!==void 0?se:[],W])}}catch(W){U=W,ne=!0}if(O=!1,!(U instanceof ke)){var he;const G=l(U),W=ne?Ln(U):oe(G)?Vn(d(w,G)):Ze(G);j.atomValues.set(t,W),(he=w.getState().nextTree)===null||he===void 0||he.atomValues.set(t,W)}}return ae}function v(w,j){var Z,z;return(Z=(z=j.atomValues.get(t))!==null&&z!==void 0?z:s)!==null&&Z!==void 0?Z:a}function E(w,j){if(j.atomValues.has(t))return K(j.atomValues.get(t));if(j.nonvalidatedAtoms.has(t)){if(s!=null)return s;if(n==null)return a;const Z=j.nonvalidatedAtoms.get(t),z=n.validator(Z,Fe);return s=z instanceof ke?a:Ze(z),s}else return a}function N(){s=void 0}function g(w,j,Z){if(j.atomValues.has(t)){const z=K(j.atomValues.get(t));if(z.state==="hasValue"&&Z===z.contents)return new Map}else if(!j.nonvalidatedAtoms.has(t)&&Z instanceof ke)return new Map;return s=void 0,new Map().set(t,Ze(Z))}function A(){return hr(t)!==void 0&&r<=0}const P=Du({key:t,nodeType:"atom",peek:v,get:E,set:g,init:p,invalidate:N,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:o});return P}function vr(e){const o=e,{default:t}=o,n=mt(o,["default"]);return Bu(t)?Gu(de(ce({},n),{default:t})):Wu(de(ce({},n),{default:t}))}function Gu(e){const t=vr(de(ce({},e),{default:Fe,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:de(ce({},e.persistence_UNSTABLE),{validator:o=>o instanceof ke?o:K(e.persistence_UNSTABLE).validator(o,Fe)}),effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE})),n=Wt({key:`${e.key}__withFallback`,get:({get:o})=>{const r=o(t);return r instanceof ke?e.default:r},set:({set:o},r)=>o(t,r),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return xu(n.key,hr(e.key)),n}var mr=vr;class ju{constructor(t){var n;x(this,"_map",void 0),x(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t==null?void 0:t.mapKey)!==null&&n!==void 0?n:o=>o}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var Hu={MapCache:ju},qu=Hu.MapCache,Ku=Object.freeze({__proto__:null,MapCache:qu});const{LRUCache:_r}=cr,{MapCache:Zu}=Ku,Gt={equality:"reference",eviction:"none",maxSize:1/0};function Qu({equality:e=Gt.equality,eviction:t=Gt.eviction,maxSize:n=Gt.maxSize}=Gt){const o=Yu(e);return Xu(t,n,o)}function Yu(e){switch(e){case"reference":return t=>t;case"value":return t=>Pt(t)}throw F(`Unrecognized equality policy ${e}`)}function Xu(e,t,n){switch(e){case"keep-all":return new Zu({mapKey:n});case"lru":return new _r({mapKey:n,maxSize:K(t)});case"most-recent":return new _r({mapKey:n,maxSize:1})}throw F(`Unrecognized eviction policy ${e}`)}var Sr=Qu;const{setConfigDeletionHandler:Ju}=_e;function ed(e){var t,n;const o=Sr({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return r=>{var a,s;const c=o.get(r);if(c!=null)return c;const v=e,{cachePolicyForParams_UNSTABLE:l}=v,d=mt(v,["cachePolicyForParams_UNSTABLE"]),p=mr(de(ce({},d),{key:`${e.key}__${(a=Pt(r))!==null&&a!==void 0?a:"void"}`,default:typeof e.default=="function"?e.default(r):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(r):e.retainedBy_UNSTABLE,effects:typeof e.effects=="function"?e.effects(r):typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(r):(s=e.effects)!==null&&s!==void 0?s:e.effects_UNSTABLE}));return o.set(r,p),Ju(p.key,()=>{o.delete(r)}),p}}var td=ed;const{setConfigDeletionHandler:nd}=_e;let od=0;function rd(e){var t,n;const o=Sr({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return r=>{var a;const s=o.get(r);if(s!=null)return s;const c=`${e.key}__selectorFamily/${(a=Pt(r,{allowFunctions:!0}))!==null&&a!==void 0?a:"void"}/${od++}`,l=E=>e.get(r)(E),d=e.cachePolicy_UNSTABLE,p=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(r):e.retainedBy_UNSTABLE;let v;if(e.set!=null){const E=e.set;v=Wt({key:c,get:l,set:(g,A)=>E(r)(g,A),cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:p})}else v=Wt({key:c,get:l,cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:p});return o.set(r,v),nd(v.key,()=>{o.delete(r)}),v}}var Ie=rd;const ad=Ie({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function sd(e){return ad(e)}var id=sd;const cd=Ie({key:"__error",get:e=>()=>{throw F(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ld(e){return cd(e)}var ud=ld;function dd(e){return e}var fd=dd;const{loadableWithError:yr,loadableWithPromise:gr,loadableWithValue:Rr}=tt;function jt(e,t){const n=Array(t.length).fill(void 0),o=Array(t.length).fill(void 0);for(const[r,a]of t.entries())try{n[r]=e(a)}catch(s){o[r]=s}return[n,o]}function hd(e){return e!=null&&!oe(e)}function Ht(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function Cn(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,o,r)=>de(ce({},n),{[o]:t[r]}),{})}function Qe(e,t,n){const o=n.map((r,a)=>r==null?Rr(t[a]):oe(r)?gr(r):yr(r));return Cn(e,o)}function pd(e,t){return t.map((n,o)=>n===void 0?e[o]:n)}const vd=Ie({key:"__waitForNone",get:e=>({get:t})=>{const n=Ht(e),[o,r]=jt(t,n);return Qe(e,o,r)},dangerouslyAllowMutability:!0}),md=Ie({key:"__waitForAny",get:e=>({get:t})=>{const n=Ht(e),[o,r]=jt(t,n);return r.some(a=>!oe(a))?Qe(e,o,r):new Promise(a=>{for(const[s,c]of r.entries())oe(c)&&c.then(l=>{o[s]=l,r[s]=void 0,a(Qe(e,o,r))}).catch(l=>{r[s]=l,a(Qe(e,o,r))})})},dangerouslyAllowMutability:!0}),_d=Ie({key:"__waitForAll",get:e=>({get:t})=>{const n=Ht(e),[o,r]=jt(t,n);if(r.every(s=>s==null))return Cn(e,o);const a=r.find(hd);if(a!=null)throw a;return Promise.all(r).then(s=>Cn(e,pd(o,s)))},dangerouslyAllowMutability:!0}),Sd=Ie({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Ht(e),[o,r]=jt(t,n);return r.every(a=>!oe(a))?Qe(e,o,r):Promise.all(r.map((a,s)=>oe(a)?a.then(c=>{o[s]=c,r[s]=void 0}).catch(c=>{o[s]=void 0,r[s]=c}):null)).then(()=>Qe(e,o,r))},dangerouslyAllowMutability:!0}),yd=Ie({key:"__noWait",get:e=>({get:t})=>{try{return Rr(t(e))}catch(n){return oe(n)?gr(n):yr(n)}},dangerouslyAllowMutability:!0});var gd={waitForNone:vd,waitForAny:md,waitForAll:_d,waitForAllSettled:Sd,noWait:yd};const{RecoilLoadable:Rd}=tt,{DefaultValue:bd}=_e,{RecoilRoot:Td,useRecoilStoreID:wd}=$e,{isRecoilValue:Ad}=je,{retentionZone:Nd}=At,{freshSnapshot:Ed}=Mt,{useRecoilState:Ld,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Vd,useRecoilStateLoadable:Cd,useRecoilValue:$d,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Md,useRecoilValueLoadable:kd,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Id,useResetRecoilState:Ud,useSetRecoilState:Dd}=Kc,{useGotoRecoilSnapshot:xd,useRecoilSnapshot:Bd,useRecoilTransactionObserver:Pd}=Yo,{useRecoilCallback:Od}=or,{noWait:Fd,waitForAll:zd,waitForAllSettled:Wd,waitForAny:Gd,waitForNone:jd}=gd;var qt={DefaultValue:bd,isRecoilValue:Ad,RecoilLoadable:Rd,RecoilRoot:Td,useRecoilStoreID:wd,useRecoilBridgeAcrossReactRoots_UNSTABLE:Rl,atom:mr,selector:Wt,atomFamily:td,selectorFamily:Ie,constSelector:id,errorSelector:ud,readOnlySelector:fd,noWait:Fd,waitForNone:jd,waitForAny:Gd,waitForAll:zd,waitForAllSettled:Wd,useRecoilValue:$d,useRecoilValueLoadable:kd,useRecoilState:Ld,useRecoilStateLoadable:Cd,useSetRecoilState:Dd,useResetRecoilState:Ud,useGetRecoilValueInfo_UNSTABLE:vl,useRecoilRefresher_UNSTABLE:Ql,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Id,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Md,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Vd,useRecoilCallback:Od,useRecoilTransaction_UNSTABLE:tu,useGotoRecoilSnapshot:xd,useRecoilSnapshot:Bd,useRecoilTransactionObserver_UNSTABLE:Pd,snapshot_UNSTABLE:Ed,useRetain:gn,retentionZone:Nd},Hd=qt.RecoilRoot,br=qt.atom,Tr=qt.useRecoilValue,wr=qt.useSetRecoilState;const qd=X.lazy(()=>Bn(()=>import("./question_comp.31297b3c.js"),["assets/question_comp.31297b3c.js","assets/vendor.0b632b43.js","assets/App.17df74f4.js","assets/App.bede793c.css","assets/index.bae784dd.js","assets/index.5cc787a4.css","assets/TimerComp.186e6d2c.js","assets/millisecondsToTime.6095074a.js"]));function Kd({wasTimed:e}){const t=wr(Ar),n=wr(Nr),{subject:o,currentPage:r,compSubQuestionPage:a,updateNoQuesPerPage:s,questions:c,paperMap:l}=q.exports.useContext(Dn),[d,p]=q.exports.useState([]),[v,E]=q.exports.useState(0),[N,g]=q.exports.useState(-1),A=q.exports.useMemo(()=>o.split(" ")[0].toLowerCase()==="kiswahili",[o]);return q.exports.useEffect(()=>{E(Pr(c,l,r));let P=l.pages[r];s(P.endIndex-P.startIndex),p(c.slice(P.startIndex,P.endIndex)),g(Math.random()),t(r)},[r]),q.exports.useEffect(()=>{n(a)},[a]),L(Yt,{children:L(q.exports.Suspense,{fallback:L(Or.Container,{children:A?"Karatasi inatayarishwa ...":"Preparing paper ..."}),children:L(qd,{questions:d,alreadyDone:v,isKiswahili:A,wasTimed:e})},N)})}const Zd=({gradeName:e,prePaper:t,prePrevState:n})=>{const o=Tr(Ar),r=Tr(Nr),{updateQuestions:a,setSubjectName:s}=q.exports.useContext(Dn),[c,l]=q.exports.useState(),[d,p]=q.exports.useState(!1),[v,E]=q.exports.useState(-1);return q.exports.useEffect(()=>{var w,j,Z,z,ae;l(t),s((t==null?void 0:t.subject)||"");const N=Wr((t==null?void 0:t.questions)||[]),g=Gr((t==null?void 0:t.questions)||[]);let A=o>-1?o:n.currentPage||0,P=r>-1?r:n.compSubQuestionPage||0;a({questions:(t==null?void 0:t.questions)||[],paperMap:N,gradeName:e,paperID:"paperid_something",isLibraryPaper:!0,paperHistoryID:n._id||"",currentPage:A,compSubQuestionPage:P,isMarked:n.isMarked||!1,isTimed:n.isTimed||(c==null?void 0:c.isTimed)||!1,remainingTime:n.remainingTime||1e4,numOfQuestions:g,totalPages:Object.keys(N.pages).length,attemptTree:{subject:(t==null?void 0:t.subject)||"",score:{passed:((j=(w=n==null?void 0:n.attemptTree)==null?void 0:w.score)==null?void 0:j.passed)||0,total:((z=(Z=n==null?void 0:n.attemptTree)==null?void 0:Z.score)==null?void 0:z.total)||g},pages:((ae=n==null?void 0:n.attemptTree)==null?void 0:ae.pages)||jr(N,(t==null?void 0:t.questions)||[])}}),p(!0),E(Math.random())},[n]),c?d?L(Kd,{wasTimed:!1},v):null:L(Pn,{})},Qd=e=>L(Hd,{children:L(Fr,{children:L(zr,{children:L(Zd,ce({},e))})})});Hr.register(qr,Kr,Zr,Qr,Yr,Xr);const Yd=(e,t)=>({indexAxis:t?"y":"x",responsive:!0,maintainAspectRatio:!1,redraw:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e},barValueSpacing:40,tooltips:{displayColors:!0,callbacks:{mode:"x"}},datalabels:{display:n=>!1},scales:{xAxes:[{gridLines:{display:!0,drawBorder:!1}}],yAxes:[{gridLines:{display:!1,drawBorder:!0}}]}}}),Xd=e=>{if(e.length<=1)return"First attempt";let n=e.reduce((r,a)=>[...r,a.pass-a.fail],[]),o=(n.length>2?n.slice(Math.max(n.length-2,1)):n).reduce((r,a)=>a-r,0);return o===0?"No change":o<0?"Declining":"Improving"},Ar=br({key:"currentlySavedPageNumberId",default:-1}),Nr=br({key:"currentlySavedSubPageNumberId",default:-1}),af=({subject:e})=>{const{authToken:t}=q.exports.useContext(Jr);ea();const[n,o]=q.exports.useState([]),[r,a]=q.exports.useState([]),[s,c]=q.exports.useState(""),[l,d]=q.exports.useState({firstname:"",lastname:"",profilePic:"",gender:null}),[p,v]=q.exports.useState({isSpecial:!1,label:"",value:""}),[E,N]=q.exports.useState([]),[g,A]=q.exports.useState({pass:[],fail:[]}),[P,w]=q.exports.useState("First attempt"),[j,Z]=q.exports.useState(0),[z,ae]=q.exports.useState(0),[I,se]=q.exports.useState({isSpecial:!1,paper:{},trees:[],prevStates:[]}),he=!1;return q.exports.useEffect(()=>{const O=localStorage.getItem("classRefId")||"";Qt.get(`/api/grade/learners/${O}`,{headers:{Authorization:`Bearer ${t}`}}).then(({data:U})=>{if(U){o(U.learners.map(ne=>({label:`${ne.firstname} ${ne.lastname}`,value:ne._id})));return}}),ta.Tabs.init(document.querySelector(".sub-tabs"),{})},[]),q.exports.useEffect(()=>{p&&p.value&&Qt.get(`/api/analytics/learner/${s}/${p.value}${p.isSpecial?"/special":""}`,{headers:{Authorization:`Bearer ${t}`}}).then(({data:O})=>{if(O){let U=[...O.plottable||[]].reverse();A({pass:U.map(ee=>ee.score.passed),fail:U.map(ee=>ee.score.total-ee.score.passed)}),Z(O.time_per_question),w(Xd(U.map(ee=>({pass:ee.score.passed,fail:ee.score.total-ee.score.passed}))));let ne=O.attempt_trees;se(de(ce({},ne),{trees:[...ne.trees].reverse(),prevStates:[...ne.prevStates].reverse()})),N(U);return}})},[p]),q.exports.useEffect(()=>{if(s){a([]),v(null),A({fail:[],pass:[]}),N([]);const O=localStorage.getItem("classId")||"";Qt.get(`/api/analytics/subject/${O}/${s}/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(({data:U})=>{if(U){d(U.student),a(U.papersDone.map(ne=>({label:`${e} ( ${ne.subject} )`,value:ne.paperID,isSpecial:ne.isSpecial})));return}})}},[s]),le("div",{className:"row",children:[l.firstname?L("div",{className:"col s12 center",children:le("div",{style:{margin:"auto"},children:[L("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:l.profilePic?l.profilePic:na(l.gender)}),L("br",{}),L("span",{className:"sub-modal-texts",style:{letterSpacing:"1px"},children:le("b",{children:[l.firstname," ",l.lastname]})}),r.length?null:le(Yt,{children:[" ",L("span",{className:"sub-modal-texts",style:{border:"1px solid red",padding:"1px 10px",borderRadius:"20px"},children:L("b",{children:"has not attempted any paper(s)"})})]})]})}):null,L("div",{className:"col s12",children:le("ul",{className:"sub-tabs tabs tabs-fixed-width",style:{overflowX:"hidden"},children:[L("li",{className:"tab col s6",children:L("a",{href:"#analytics",className:"active",children:"Analytics"})}),L("li",{className:`tab col s6 ${I.trees.length||I.prevStates.length?"":"disabled"}`,children:le("a",{href:"#lastDonePapers",children:["Last (",I.trees.length||I.prevStates.length,") Paper(s)"]})})]})}),le("div",{id:"analytics",children:[L("div",{className:"col s12 m12 l4",children:L("div",{className:"card z-depth-0",style:{border:"1px solid #dcdee2"},children:le("div",{className:"card-content",children:[le("div",{className:"row",children:[le("div",{className:"col s12 m12",children:[L("label",{children:"Learner"}),L(xn,{hideSelectedOptions:!0,onChange:O=>{c((O==null?void 0:O.value)||"")},options:n,placeholder:"select learner..."})]}),le("div",{className:"col s12 m12",children:[L("label",{children:"Paper"}),L(xn,{hideSelectedOptions:!0,isDisabled:!s||!r.length,options:r,value:p,onChange:O=>{v(O||{})},placeholder:"select paper..."})]})]}),L("div",{className:"row",id:"performanceReportButton",hidden:!0,children:L("div",{className:"col s12 m12",children:le("button",{onClick:()=>{},"data-position":"bottom","data-tooltip":"Scroll down to view or download the report",className:"btn-small sub-modal-texts tooltipped white black-text waves-effect waves-black z-depth-1",style:{width:"100%",fontWeight:"bold"},children:["PERFORMANCE REPORT",L("i",{className:"material-icons right",children:"assessment"})]})})})]})})}),le("div",{className:"col s12 m12 l8",children:[E.length?L("div",{className:"card z-depth-0",style:{border:"1px solid #dcdee2"},children:le("div",{className:"card-content sub-modal-texts center",children:["Remarks: ",L("span",{style:{border:"1px solid green",padding:"1px 2px",borderRadius:"2px"},children:L("b",{children:P})}),j>0?le(Yt,{children:[" ",L("b",{children:"|"})," ","Av. Time Per Question: ",L("span",{style:{border:"1px solid green",padding:"1px 2px",borderRadius:"2px"},children:L("b",{children:aa(j,!0)})})]}):null]})}):null,L("div",{className:"card z-depth-0",style:{border:"1px solid #dcdee2"},children:L("div",{className:"card-content",children:L("div",{className:"row",id:"insertChart",children:L(oa,{options:Yd("Performance Analysis",he),style:{height:"300px"},data:{labels:g.pass.map((O,U)=>`Attempt ${U+1}`),datasets:[{label:"Pass",data:g.pass,backgroundColor:"#00c853"},{label:"Fail",data:g.fail,backgroundColor:"#f44336"}]}})})})})]})]}),L("div",{id:"lastDonePapers",children:(I.isSpecial?I.prevStates.length:I.trees.length)?L("div",{className:"col s12 m12",children:le("div",{className:"section",children:[le("div",{className:"col s12",children:[(I.isSpecial?I.prevStates:I.trees).map((O,U)=>{let ne=I.isSpecial?O.attemptTree.score.passed:O.score.passed,ee=I.isSpecial?O.attemptTree.score.total:O.score.total;return L("button",{className:`btn-flat sub-modal-texts ${z===U?"teal lighten-5":""}`,style:{border:"1px solid #d3d3d3",borderTop:"2px solid #80cbc4",borderRadius:"5px 5px 0px 0px",marginRight:"1px"},onClick:Ae=>{ae(U)},children:le("b",{children:["Attempt ",U+1," ",le("span",{className:"red-text sub-names",children:["( ",ne," / ",ee,")"]})]})},`attempt_pill_${U}`)}),L("div",{className:"divider",style:{marginBottom:"5px"}})]}),L("div",{className:"col s12",children:I.isSpecial?L(Qd,{gradeName:"Sample Grade",prePaper:I.paper,prePrevState:I.prevStates[z]}):L(ia,{tree:I.trees[z]})})]})}):null})]})};export{Ar as currentlySavedPageNumberState,Nr as currentlySavedSubPageNumberState,af as default,Yd as options};
