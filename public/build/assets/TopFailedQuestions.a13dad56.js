var k=Object.defineProperty;var l=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var c=(s,e,t)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,u=(s,e)=>{for(var t in e||(e={}))v.call(e,t)&&c(s,t,e[t]);if(l)for(var t of l(e))w.call(e,t)&&c(s,t,e[t]);return s};import{_ as F,j as a,a as p}from"./index.d3bdb59a.js";import{A as h,u as N,R as m,m as E,k as P,q as x,d as T,h as f,w as A}from"./App.fdb277d2.js";import{R as _,r}from"./vendor.497bb12a.js";const C=_.lazy(()=>F(()=>import("./index.0334c436.js"),["assets/index.0334c436.js","assets/index.0299b386.css","assets/App.fdb277d2.js","assets/App.bede793c.css","assets/vendor.497bb12a.js","assets/index.d3bdb59a.js","assets/index.5cc787a4.css"])),D=h({key:"totalStudentsInSubjectId",default:0}),L=h({key:"studentsWhoPartcipatedStateId",default:0}),G=({subject:s})=>{const{authToken:e}=N(),t=m(E),S=m(P),[b,g]=r.exports.useState({stats:[],students:0,students_who_did:0}),j=x(D),y=x(L),[I,i]=r.exports.useState(!1),[n,R]=r.exports.useState("");return r.exports.useEffect(()=>{i(!0),T.get(`/api/deep-analytics/${t}/${S}/${s}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:o})=>{if(o&&o.status){const d=o.paper;g(d),j(d.students),y(d.students_who_did);return}throw new Error("Unexpected error!")}).catch(o=>{R(o.message)}).finally(()=>{i(!1)})},[]),I?a(f,{}):p("div",{className:"section",children:[n?a("div",{className:"row",children:a("div",{className:"col s12",children:p("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[a("i",{className:"material-icons left",children:"error_outline"}),a("p",{children:n})]})})}):null,a(A,{children:a(_.Suspense,{fallback:a(f,{}),children:a(C,u({},b))})})]})};export{G as default,L as studentsWhoPartcipatedState,D as totalStudentsInSubject};
