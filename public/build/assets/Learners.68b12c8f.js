var x=Object.defineProperty;var h=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var m=(e,s,a)=>s in e?x(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,f=(e,s)=>{for(var a in s||(s={}))v.call(s,a)&&m(e,a,s[a]);if(h)for(var a of h(s))b.call(s,a)&&m(e,a,s[a]);return e};import{G as N,u,d as g,f as w,t as n}from"./App.00838d4b.js";import{r as c}from"./vendor.fd4def91.js";import{a as i,F as y,j as t}from"./index.67d17a5b.js";const _=e=>n.success(e,{position:n.POSITION.TOP_RIGHT,autoClose:2e3}),I=e=>n.error(e,{position:n.POSITION.TOP_RIGHT,autoClose:2e3}),C=({_id:e,firstname:s,lastname:a,gender:d})=>{const l=u();return t("div",{className:"col s6 m4",children:t("div",{onClick:r=>l(`/learner/${e}`),className:"hoverable z-depth-1",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"5px"},children:i("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[t("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:"https://cdn2.iconfinder.com/data/icons/child-people-face-avatar-3/500/child_152-512.png"}),t("ul",{style:{paddingLeft:"20px"},children:t("li",{style:{letterSpacing:"1px"},children:i("b",{children:[s," ",a]})})})]})})})},k=({classRefId:e})=>{const{authToken:s}=c.exports.useContext(N),a=u(),[d,l]=c.exports.useState([]);return c.exports.useEffect(()=>{g.get(`/api/grade/learners/${e}`,{headers:{Authorization:`Bearer ${s}`}}).then(({data:r})=>{if(r){l(r.learners);return}})},[]),i(y,{children:[t("div",{className:"row",children:i("div",{className:"col s12",children:[i("button",{className:"waves-effect waves-light btn-flat",style:{marginRight:"5px"},onClick:r=>a("/learner/import"),children:[t("i",{className:"material-icons right",children:"cloud_upload"}),"Import Learners"]}),i("button",{style:{marginRight:"5px"},className:"waves-effect waves-light btn-flat",onClick:r=>a("/learner/new"),children:[t("i",{className:"material-icons right",children:"person_add"}),"Add Learner"]}),i("button",{className:"waves-effect waves-light btn-flat",onClick:r=>{const o=localStorage.getItem("classRefId")||"";g.get(`/api/grade/learners/credentials/${o}`,{headers:{Authorization:`Bearer ${s}`}}).then(async({data:p})=>{if(p){if(await w(p,"credentials.xlsx")){_("Exported leaners credentials successfully!");return}I("Failed to export learners credentials. Please contact zoezi team")}})},children:[t("i",{className:"material-icons right",children:"cloud_download"}),"Export Credentials"]})]})}),t("div",{className:"row",children:d.map((r,o)=>t(C,f({},r),o))})]})};export{k as default};
