import{C as g,A as u,b,c as h,i as f,G as m,d as x,D as y}from"./App.b5b0e2d2.js";import{r as o}from"./vendor.fd4def91.js";import{a as d,j as e}from"./index.d9930741.js";g.register(u,b,h,f);const v=a=>({responsive:!0,maintainAspectRatio:!1,plugins:{radiusBackground:{color:"#d1d1d1"},title:{display:!1},legend:{display:!0,position:"right",fullSize:!0},pieceLabel:{render:"label",arc:!0,fontColor:"#000",position:"outside"},datalabels:{color:"#000",clamp:!0,font:{weight:"bold"},formatter:function(r,i){return Math.round(r)+"%"}}}}),A=()=>{const{authToken:a}=o.exports.useContext(m),[r,i]=o.exports.useState({boys:50,girls:50}),[l,c]=o.exports.useState("");return o.exports.useEffect(()=>{const p=localStorage.getItem("classRefId")||"";x.get(`/api/grade/gender-distribution/${p}`,{headers:{Authorization:`Bearer ${a}`}}).then(({data:s})=>{if(s){let t=s,n=t.boys+t.girls;i({boys:t.boys/n*100,girls:t.girls/n*100});return}throw new Error("Unexpected error")}).catch(s=>{c(s.message)})},[]),d("div",{className:"row",children:[l?e("div",{className:"row",children:e("div",{className:"col s10 push-s1",children:d("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[e("i",{className:"material-icons left",children:"error_outline"}),e("p",{children:l})]})})}):null,e("div",{className:"col s12",style:{height:"400px"},children:e(y,{options:v(),data:{labels:["Boys","Girls"],datasets:[{label:"Boys vs Girls",data:[r.boys,r.girls],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:2}]}})})]})};export{A as default};
