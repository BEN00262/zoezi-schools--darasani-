var w=Object.defineProperty,_=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var h=(r,e,a)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,g=(r,e)=>{for(var a in e||(e={}))y.call(e,a)&&h(r,a,e[a]);if(p)for(var a of p(e))L.call(e,a)&&h(r,a,e[a]);return r},x=(r,e)=>_(r,C(e));import{G as k,u as b,R as f,j as I,k as R,f as S,g as $,d as z}from"./App.73a128b6.js";import{r as F}from"./vendor.5c57f7a1.js";import{j as s,a as l,F as A}from"./index.cc430573.js";const T=({_id:r,name:e,teacher:a,gradeName:o})=>{const c=b();let t=o.toLowerCase(),d=e.toLowerCase();const n=t==="eight"?"kcpe":t,m=d==="sst&cre"?"social":d.split(" ")[0];return s("div",{className:"col s12 m4",children:s("div",{onClick:u=>c(`/subject/${r}`),className:"hoverable z-depth-0",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"10px"},children:l("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[s("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:`https://www.zoezi-education.com/img/${n}/${m}.png`}),l("ul",{style:{paddingLeft:"20px"},children:[s("li",{children:e}),s("li",{className:"sub-modal-texts",children:a.name}),s("li",{className:"sub-modal-texts",children:a.email})]})]})})})},G=({gradeName:r})=>{const{authToken:e,isTeacher:a}=F.exports.useContext(k),o=b(),c=f(I),t=f(R),{isLoading:d,isIdle:n,isError:m,error:u,data:j,isSuccess:N}=S(["in_app_grade_subjects",t],()=>z.get(`/api/subject/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:i})=>{if(i)return i.subjects;throw new Error("Unexpected error!")}),{enabled:!!e&&!!t,staleTime:60*1e3*1});return d||n?s($,{}):l(A,{children:[m?s("div",{className:"row",children:s("div",{className:"col s12",children:l("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[s("i",{className:"material-icons left",children:"error_outline"}),s("p",{children:u.message})]})})}):null,s("div",{className:"row",hidden:a,children:s("div",{className:"col s12",children:l("button",{onClick:i=>{if(c)return o(`/subject/new/${c}`)},className:"waves-effect waves-light btn-flat",children:[s("i",{className:"material-icons right",children:"add_circle_outline"}),"Add Subject(s)"]})})}),s("div",{className:"row",children:N&&(j||[]).map((i,v)=>s(T,x(g({},i),{gradeName:r}),v))})]})};export{G as default};
