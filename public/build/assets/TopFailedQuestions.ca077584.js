var k=Object.defineProperty;var l=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var c=(s,e,t)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,u=(s,e)=>{for(var t in e||(e={}))w.call(e,t)&&c(s,t,e[t]);if(l)for(var t of l(e))D.call(e,t)&&c(s,t,e[t]);return s};import{_ as E,j as a,a as p}from"./index.2591e9e0.js";import{D as m,u as P,R as _,d as C,m as F,r as f,e as L,i as h,x as $,f as z}from"./App.f007f80e.js";import{R as x,r as d}from"./vendor.ef6ab39b.js";const A=x.lazy(()=>E(()=>import("./index.e90a3d75.js"),["assets/index.e90a3d75.js","assets/index.0299b386.css","assets/App.f007f80e.js","assets/App.bede793c.css","assets/vendor.ef6ab39b.js","assets/index.2591e9e0.js","assets/index.5cc787a4.css"])),Q=m({key:"totalStudentsInSubjectId",default:0}),W=m({key:"studentsWhoPartcipatedStateId",default:0}),M=({subject:s})=>{const{authToken:e}=P(),t=_(C),i=_(F),[S,g]=d.exports.useState({stats:[],students:0,students_who_did:0}),[b,R]=d.exports.useState(0),I=f(Q),y=f(W),{isLoading:j,isError:v,error:N,data:r,isIdle:T,isSuccess:n}=L(["in_app_top_failed_questions",s],()=>z.get(`/api/deep-analytics/${t}/${i}/${s}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:o})=>{if(o&&o.status)return o.paper;throw new Error("Unexpected error!")}),{enabled:!!e&&!!t&&!!i&&!!s,staleTime:1*60*1e3});return d.exports.useEffect(()=>{n&&r&&(g(r),I(r.students),y(r.students_who_did),R(Math.random()))},[n]),j||T?a(h,{}):p("div",{className:"section",children:[v?a("div",{className:"row",children:a("div",{className:"col s12",children:p("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[a("i",{className:"material-icons left",children:"error_outline"}),a("p",{children:N.message})]})})}):null,a($,{children:a(x.Suspense,{fallback:a(h,{}),children:a(A,u({},S),b)})})]})};export{M as default,W as studentsWhoPartcipatedState,Q as totalStudentsInSubject};
