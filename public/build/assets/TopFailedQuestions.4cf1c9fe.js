var y=Object.defineProperty;var d=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var c=(s,e,t)=>e in s?y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))I.call(e,t)&&c(s,t,e[t]);if(d)for(var t of d(e))R.call(e,t)&&c(s,t,e[t]);return s};import{_ as v,j as a,a as u}from"./index.094b12c6.js";import{y as F,G as N,R as x,A as C,i as A,m as D,d as E,f as m}from"./App.77f6c601.js";import{R as f,a as r}from"./vendor.0b632b43.js";const T=f.lazy(()=>v(()=>import("./index.38e3c745.js"),["assets/index.38e3c745.js","assets/index.0299b386.css","assets/App.77f6c601.js","assets/App.bede793c.css","assets/vendor.0b632b43.js","assets/index.094b12c6.js","assets/index.5cc787a4.css"])),k=F({key:"totalStudentsInSubjectId",default:0}),z=({subject:s})=>{const{authToken:e}=r.exports.useContext(N),t=x(C),h=x(A),[_,b]=r.exports.useState({stats:[],students:0}),g=D(k),[S,i]=r.exports.useState(!1),[n,j]=r.exports.useState("");return r.exports.useEffect(()=>{i(!0),E.get(`/api/deep-analytics/${t}/${h}/${s}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:o})=>{if(o&&o.status){let l=o.paper;b(l),g(l.students);return}throw new Error("Unexpected error!")}).catch(o=>{j(o.message)}).finally(()=>{i(!1)})},[]),S?a(m,{}):u("div",{className:"section",children:[n?a("div",{className:"row",children:a("div",{className:"col s12",children:u("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[a("i",{className:"material-icons left",children:"error_outline"}),a("p",{children:n})]})})}):null,a(f.Suspense,{fallback:a(m,{}),children:a(T,p({},_))})]})};export{z as default,k as totalStudentsInSubject};
