var w=Object.defineProperty,_=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var h=(i,e,a)=>e in i?w(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,g=(i,e)=>{for(var a in e||(e={}))k.call(e,a)&&h(i,a,e[a]);if(p)for(var a of p(e))C.call(e,a)&&h(i,a,e[a]);return i},b=(i,e)=>_(i,y(e));import{u as L,f as x,R as f,k as S,m as I,g as R,h as $,d as z}from"./App.fdb277d2.js";import{j as s,a as d,F}from"./index.d3bdb59a.js";import"./vendor.497bb12a.js";const T=({_id:i,name:e,teacher:a,gradeName:o})=>{const l=x(),r=o.toLowerCase(),c=e.toLowerCase(),n=r==="eight"?"kcpe":r,m=c==="sst&cre"?"social":c.split(" ")[0];return s("div",{className:"col s12 m4",children:s("div",{onClick:u=>l(`/subject/${i}`),className:"hoverable z-depth-0",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"10px"},children:d("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[s("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:`https://www.zoezi-education.com/img/${n}/${m}.png`}),d("ul",{style:{paddingLeft:"20px"},children:[s("li",{children:e}),s("li",{className:"sub-modal-texts",children:a.name}),s("li",{className:"sub-modal-texts",children:a.email})]})]})})})},E=({gradeName:i})=>{const{authToken:e,isTeacher:a}=L(),o=x(),l=f(S),r=f(I),{isLoading:c,isIdle:n,isError:m,error:u,data:j,isSuccess:N}=R(["in_app_grade_subjects",r],()=>z.get(`/api/subject/${r}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:t})=>{if(t)return t.subjects;throw new Error("Unexpected error!")}),{enabled:!!e&&!!r,staleTime:60*1e3*1});return c||n?s($,{}):d(F,{children:[m?s("div",{className:"row",children:s("div",{className:"col s12",children:d("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[s("i",{className:"material-icons left",children:"error_outline"}),s("p",{children:u.message})]})})}):null,s("div",{className:"row",hidden:a,children:s("div",{className:"col s12",children:d("button",{onClick:t=>{if(l)return o(`/subject/new/${l}`)},className:"waves-effect waves-light btn-flat",children:[s("i",{className:"material-icons right",children:"add_circle_outline"}),"Add Subject(s)"]})})}),s("div",{className:"row",children:N&&(j||[]).map((t,v)=>s(T,b(g({},t),{gradeName:i}),v))})]})};export{E as default};
