import{G as f,R as d,A as g,i as N,d as v}from"./App.77f6c601.js";import{a}from"./vendor.0b632b43.js";import{a as s,j as e}from"./index.094b12c6.js";const S=({name:l,numeric:i})=>s("div",{className:"col s6 m4",style:{border:"1px solid #d3d3d3",borderRadius:"2px"},children:[e("h5",{className:"sub-names",children:l}),e("p",{className:"sub-modal-texts",children:i})]}),w=({subject:l})=>{const{authToken:i}=a.exports.useContext(f),m=d(g),p=d(N),[r,x]=a.exports.useState({active:0,mean:0,total:0}),[c,u]=a.exports.useState("0.00"),[o,h]=a.exports.useState("");return a.exports.useEffect(()=>{v.get(`/api/deep-analytics/subject-mean/${m}/${p}/${l}`,{headers:{Authorization:`Bearer ${i}`}}).then(({data:t})=>{if(t&&t.status){let n=t.analytics;x(n),u(n.mean.toFixed(2));return}throw new Error("Unexpected error!")}).catch(t=>{h(t.message)})},[]),s("div",{className:"section",children:[o?e("div",{className:"row",children:e("div",{className:"col s12",children:s("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[e("i",{className:"material-icons left",children:"error_outline"}),e("p",{children:o})]})})}):null,e("div",{className:"row center sub-names",children:s("div",{className:"col s12",children:[e("span",{style:{fontSize:"120px"},className:"teal-text",children:c.split(".")[0]}),s("span",{style:{fontSize:"40px"},className:"teal-text",children:[".",c.split(".")[1]]}),e("span",{style:{marginLeft:"5px"},className:"sub-modal-texts",children:e("b",{children:"mean"})})]})}),e("div",{className:"row center",children:[{label:"Active Students",point:`${r.active}`},{label:"Total Students",point:`${r.total}`},{label:"Student Percentage",point:`${(r.active/(r.total||1)*100).toFixed(0)}%`}].map(({label:t,point:n},b)=>e(S,{name:t,numeric:`${n}`},`static_${b}`))})]})};export{w as default};
