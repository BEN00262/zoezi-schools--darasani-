var v=Object.defineProperty;var p=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var h=(a,e,t)=>e in a?v(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,m=(a,e)=>{for(var t in e||(e={}))w.call(e,t)&&h(a,t,e[t]);if(p)for(var t of p(e))N.call(e,t)&&h(a,t,e[t]);return a};import{G as y,u as g,d as u}from"./App.742d430c.js";import{r as c}from"./vendor.69103231.js";import{a as n,F as j,j as r}from"./index.c02837b5.js";const C=({_id:a,firstname:e,lastname:t,gender:d})=>{const l=g();return r("div",{className:"col s6 m4",children:r("div",{onClick:s=>l(`/learner/${a}`),className:"hoverable z-depth-1",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"5px"},children:n("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[r("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:"https://cdn2.iconfinder.com/data/icons/child-people-face-avatar-3/500/child_152-512.png"}),r("ul",{style:{paddingLeft:"20px"},children:n("li",{children:[e," ",t]})})]})})})},A=({classRefId:a})=>{const{authToken:e}=c.exports.useContext(y),t=g(),[d,l]=c.exports.useState([]);return c.exports.useEffect(()=>{u.get(`/api/grade/learners/${a}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{if(s){l(s.learners);return}})},[]),n(j,{children:[r("div",{className:"row",children:n("div",{className:"col s12",children:[n("button",{className:"waves-effect waves-light btn-flat",style:{marginRight:"5px"},onClick:s=>t("/learner/import"),children:[r("i",{className:"material-icons right",children:"cloud_upload"}),"Import Learners"]}),n("button",{style:{marginRight:"5px"},className:"waves-effect waves-light btn-flat",onClick:s=>t("/learner/new"),children:[r("i",{className:"material-icons right",children:"person_add"}),"Add Learner"]}),n("button",{className:"waves-effect waves-light btn-flat",onClick:s=>{const o=localStorage.getItem("classRefId")||"";u.get(`/api/grade/learners/credentials/${o}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:x,headers:f})=>{const b=window.URL.createObjectURL(new Blob([x],{type:f["content-type"]})),i=document.createElement("a");i.href=b,i.setAttribute("download","credentials.xlsx"),document.body.appendChild(i),i.click()})},children:[r("i",{className:"material-icons right",children:"cloud_download"}),"Export Credentials"]})]})}),r("div",{className:"row",children:d.map((s,o)=>r(C,m({},s),o))})]})};export{A as default};
