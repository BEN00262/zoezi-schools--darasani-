var f=Object.defineProperty;var p=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var u=(r,e,s)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,h=(r,e)=>{for(var s in e||(e={}))j.call(e,s)&&u(r,s,e[s]);if(p)for(var s of p(e))v.call(e,s)&&u(r,s,e[s]);return r};import{G as w,u as g,d as N,f as S}from"./App.802ad17b.js";import{r as i}from"./vendor.fd4def91.js";import{j as t,a as l,F as y}from"./index.7b10d756.js";const C=({_id:r,name:e,teacher:s})=>{const c=g();return t("div",{className:"col s12 m4",children:t("div",{onClick:d=>c(`/subject/${r}`),className:"hoverable z-depth-0",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"10px"},children:l("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[t("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:`https://www.zoezi-education.com/img/kcpe/${e?e.split(" ")[0].toLowerCase():"mathematics"}.png`}),l("ul",{style:{paddingLeft:"20px"},children:[t("li",{children:e}),t("li",{className:"sub-modal-texts",children:s.name}),t("li",{className:"sub-modal-texts",children:s.email})]})]})})})},F=()=>{const{authToken:r,isTeacher:e}=i.exports.useContext(w),s=g(),[c,d]=i.exports.useState([]),[n,x]=i.exports.useState(""),[b,m]=i.exports.useState(!1);return i.exports.useEffect(()=>{const o=localStorage.getItem("classId")||"";m(!0),N.get(`/api/subject/${o}?timestamp=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${r}`}}).then(({data:a})=>{if(a){d(a.subjects);return}throw new Error("Unexpected error!")}).catch(a=>{x(a.message)}).finally(()=>{m(!1)})},[]),b?t(S,{}):l(y,{children:[n?t("div",{className:"row",children:t("div",{className:"col s12",children:l("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[t("i",{className:"material-icons left",children:"error_outline"}),t("p",{children:n})]})})}):null,t("div",{className:"row",hidden:e,children:t("div",{className:"col s12",children:l("button",{onClick:o=>{let a=localStorage.getItem("gradeName");if(a)return s(`/subject/new/${a}`)},className:"waves-effect waves-light btn-flat",children:[t("i",{className:"material-icons right",children:"add_circle_outline"}),"Add Subject(s)"]})})}),t("div",{className:"row",children:c.map((o,a)=>t(C,h({},o),a))})]})};export{F as default};
