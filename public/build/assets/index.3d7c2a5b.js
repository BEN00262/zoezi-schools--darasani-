var Se=Object.defineProperty,Ie=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ue=(a,t,o)=>t in a?Se(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,E=(a,t)=>{for(var o in t||(t={}))_e.call(t,o)&&ue(a,o,t[o]);if(ce)for(var o of ce(t))Ee.call(t,o)&&ue(a,o,t[o]);return a},z=(a,t)=>Ie(a,Oe(t));import{_ as C,D as ke,E as S,F as pe,H as de,I as he,R as we,M as ze}from"./App.cb328c24.js";import{R as b,a as y}from"./vendor.0b632b43.js";import{j as p,a as I}from"./index.244e1172.js";import{totalStudentsInSubject as je}from"./TopFailedQuestions.7bd81d5a.js";function fe(a,t){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),o.push.apply(o,n)}return o}function Re(a){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(o),!0).forEach(function(n){C(a,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):fe(Object(o)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(o,n))})}return a}function Q(a){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Q(a)}function Te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ve(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ke(a,t){if(t&&(ke(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ve(a)}function ge(a){var t=Te();return function(){var n=Q(a),e;if(t){var r=Q(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Ke(this,e)}}var A=function(t){var o,n="".concat(t.rootPrefixCls,"-item"),e=S(n,"".concat(n,"-").concat(t.page),(o={},C(o,"".concat(n,"-active"),t.active),C(o,"".concat(n,"-disabled"),!t.page),C(o,t.className,!!t.className),o)),r=function(){t.onClick(t.page)},i=function(d){t.onKeyPress(d,t.onClick,t.page)};return b.createElement("li",{title:t.showTitle?t.page:null,className:e,onClick:r,onKeyPress:i,tabIndex:"0"},t.itemRender(t.page,"page",b.createElement("a",{rel:"nofollow"},t.page)))},k={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},me=function(a){pe(o,a);var t=ge(o);function o(){var n;de(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n=t.call.apply(t,[this].concat(r)),n.state={goInputText:""},n.buildOptionText=function(l){return"".concat(l," ").concat(n.props.locale.items_per_page)},n.changeSize=function(l){n.props.changeSize(Number(l))},n.handleChange=function(l){n.setState({goInputText:l.target.value})},n.handleBlur=function(l){var d=n.props,s=d.goButton,c=d.quickGo,u=d.rootPrefixCls,h=n.state.goInputText;s||h===""||(n.setState({goInputText:""}),!(l.relatedTarget&&(l.relatedTarget.className.indexOf("".concat(u,"-item-link"))>=0||l.relatedTarget.className.indexOf("".concat(u,"-item"))>=0))&&c(n.getValidValue()))},n.go=function(l){var d=n.state.goInputText;d!==""&&(l.keyCode===k.ENTER||l.type==="click")&&(n.setState({goInputText:""}),n.props.quickGo(n.getValidValue()))},n}return he(o,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,r=e.pageSize,i=e.pageSizeOptions;return i.some(function(l){return l.toString()===r.toString()})?i:i.concat([r.toString()]).sort(function(l,d){var s=isNaN(Number(l))?0:Number(l),c=isNaN(Number(d))?0:Number(d);return s-c})}},{key:"render",value:function(){var e=this,r=this.props,i=r.pageSize,l=r.locale,d=r.rootPrefixCls,s=r.changeSize,c=r.quickGo,u=r.goButton,h=r.selectComponentClass,v=r.buildOptionText,j=r.selectPrefixCls,m=r.disabled,M=this.state.goInputText,w="".concat(d,"-options"),P=h,L=null,R=null,T=null;if(!s&&!c)return null;var U=this.getPageSizeOptions();if(s&&P){var W=U.map(function(V,_){return b.createElement(P.Option,{key:_,value:V.toString()},(v||e.buildOptionText)(V))});L=b.createElement(P,{disabled:m,prefixCls:j,showSearch:!1,className:"".concat(w,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(i||U[0]).toString(),onChange:this.changeSize,getPopupContainer:function(_){return _.parentNode},"aria-label":l.page_size,defaultOpen:!1},W)}return c&&(u&&(T=typeof u=="boolean"?b.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:m,className:"".concat(w,"-quick-jumper-button")},l.jump_to_confirm):b.createElement("span",{onClick:this.go,onKeyUp:this.go},u)),R=b.createElement("div",{className:"".concat(w,"-quick-jumper")},l.jump_to,b.createElement("input",{disabled:m,type:"text",value:M,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":l.page}),l.page,T)),b.createElement("li",{className:"".concat(w)},L,R)}}]),o}(b.Component);me.defaultProps={pageSizeOptions:["10","20","50","100"]};var Be={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};function Z(){}function ve(a){var t=Number(a);return typeof t=="number"&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function De(a,t,o){return o}function O(a,t,o){var n=typeof a=="undefined"?t.pageSize:a;return Math.floor((o.total-1)/n)+1}var xe=function(a){pe(o,a);var t=ge(o);function o(n){var e;de(this,o),e=t.call(this,n),e.getJumpPrevPage=function(){return Math.max(1,e.state.current-(e.props.showLessItems?3:5))},e.getJumpNextPage=function(){return Math.min(O(void 0,e.state,e.props),e.state.current+(e.props.showLessItems?3:5))},e.getItemIcon=function(s,c){var u=e.props.prefixCls,h=s||p("button",{type:"button","aria-label":c,className:"".concat(u,"-item-link")});return typeof s=="function"&&(h=b.createElement(s,Re({},e.props))),h},e.savePaginationNode=function(s){e.paginationNode=s},e.isValid=function(s){var c=e.props.total;return ve(s)&&s!==e.state.current&&ve(c)&&c>0},e.shouldDisplayQuickJumper=function(){var s=e.props,c=s.showQuickJumper,u=s.total,h=e.state.pageSize;return u<=h?!1:c},e.handleKeyDown=function(s){(s.keyCode===k.ARROW_UP||s.keyCode===k.ARROW_DOWN)&&s.preventDefault()},e.handleKeyUp=function(s){var c=e.getValidValue(s),u=e.state.currentInputValue;c!==u&&e.setState({currentInputValue:c}),s.keyCode===k.ENTER?e.handleChange(c):s.keyCode===k.ARROW_UP?e.handleChange(c-1):s.keyCode===k.ARROW_DOWN&&e.handleChange(c+1)},e.handleBlur=function(s){var c=e.getValidValue(s);e.handleChange(c)},e.changePageSize=function(s){var c=e.state.current,u=O(s,e.state,e.props);c=c>u?u:c,u===0&&(c=e.state.current),typeof s=="number"&&("pageSize"in e.props||e.setState({pageSize:s}),"current"in e.props||e.setState({current:c,currentInputValue:c})),e.props.onShowSizeChange(c,s),"onChange"in e.props&&e.props.onChange&&e.props.onChange(c,s)},e.handleChange=function(s){var c=e.props.disabled,u=s;if(e.isValid(u)&&!c){var h=O(void 0,e.state,e.props);u>h?u=h:u<1&&(u=1),"current"in e.props||e.setState({current:u,currentInputValue:u});var v=e.state.pageSize;return e.props.onChange(u,v),u}return e.state.current},e.prev=function(){e.hasPrev()&&e.handleChange(e.state.current-1)},e.next=function(){e.hasNext()&&e.handleChange(e.state.current+1)},e.jumpPrev=function(){e.handleChange(e.getJumpPrevPage())},e.jumpNext=function(){e.handleChange(e.getJumpNextPage())},e.hasPrev=function(){return e.state.current>1},e.hasNext=function(){return e.state.current<O(void 0,e.state,e.props)},e.runIfEnter=function(s,c){if(s.key==="Enter"||s.charCode===13){for(var u=arguments.length,h=new Array(u>2?u-2:0),v=2;v<u;v++)h[v-2]=arguments[v];c.apply(void 0,h)}},e.runIfEnterPrev=function(s){e.runIfEnter(s,e.prev)},e.runIfEnterNext=function(s){e.runIfEnter(s,e.next)},e.runIfEnterJumpPrev=function(s){e.runIfEnter(s,e.jumpPrev)},e.runIfEnterJumpNext=function(s){e.runIfEnter(s,e.jumpNext)},e.handleGoTO=function(s){(s.keyCode===k.ENTER||s.type==="click")&&e.handleChange(e.state.currentInputValue)};var r=n.onChange!==Z,i="current"in n;i&&!r&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var l=n.defaultCurrent;"current"in n&&(l=n.current);var d=n.defaultPageSize;return"pageSize"in n&&(d=n.pageSize),l=Math.min(l,O(d,void 0,n)),e.state={current:l,currentInputValue:l,pageSize:d},e}return he(o,[{key:"componentDidUpdate",value:function(e,r){var i=this.props.prefixCls;if(r.current!==this.state.current&&this.paginationNode){var l=this.paginationNode.querySelector(".".concat(i,"-item-").concat(r.current));l&&document.activeElement===l&&l.blur()}}},{key:"getValidValue",value:function(e){var r=e.target.value,i=O(void 0,this.state,this.props),l=this.state.currentInputValue,d;return r===""?d=r:isNaN(Number(r))?d=l:r>=i?d=i:d=Number(r),d}},{key:"getShowSizeChanger",value:function(){var e=this.props,r=e.showSizeChanger,i=e.total,l=e.totalBoundaryShowSizeChanger;return typeof r!="undefined"?r:i>l}},{key:"renderPrev",value:function(e){var r=this.props,i=r.prevIcon,l=r.itemRender,d=l(e,"prev",this.getItemIcon(i,"prev page")),s=!this.hasPrev();return y.exports.isValidElement(d)?y.exports.cloneElement(d,{disabled:s}):d}},{key:"renderNext",value:function(e){var r=this.props,i=r.nextIcon,l=r.itemRender,d=l(e,"next",this.getItemIcon(i,"next page")),s=!this.hasNext();return y.exports.isValidElement(d)?y.exports.cloneElement(d,{disabled:s}):d}},{key:"render",value:function(){var e=this,r=this.props,i=r.prefixCls,l=r.className,d=r.style,s=r.disabled,c=r.hideOnSinglePage,u=r.total,h=r.locale,v=r.showQuickJumper,j=r.showLessItems,m=r.showTitle,M=r.showTotal,w=r.simple,P=r.itemRender,L=r.showPrevNextJumpers,R=r.jumpPrevIcon,T=r.jumpNextIcon,U=r.selectComponentClass,W=r.selectPrefixCls,V=r.pageSizeOptions,_=this.state,f=_.current,K=_.pageSize,Ce=_.currentInputValue;if(c===!0&&u<=K)return null;var g=O(void 0,this.state,this.props),x=[],X=null,ee=null,te=null,ne=null,B=null,G=v&&v.goButton,N=j?1:2,re=f-1>0?f-1:0,ae=f+1<g?f+1:g,ie=Object.keys(this.props).reduce(function(le,$){return($.substr(0,5)==="data-"||$.substr(0,5)==="aria-"||$==="role")&&(le[$]=e.props[$]),le},{});if(w)return G&&(typeof G=="boolean"?B=p("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:h.jump_to_confirm}):B=p("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:G}),B=p("li",{title:m?"".concat(h.jump_to).concat(f,"/").concat(g):null,className:"".concat(i,"-simple-pager"),children:B})),I("ul",z(E({className:S(i,"".concat(i,"-simple"),C({},"".concat(i,"-disabled"),s),l),style:d,ref:this.savePaginationNode},ie),{children:[p("li",{title:m?h.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:S("".concat(i,"-prev"),C({},"".concat(i,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev(),children:this.renderPrev(re)}),I("li",{title:m?"".concat(f,"/").concat(g):null,className:"".concat(i,"-simple-pager"),children:[p("input",{type:"text",value:Ce,disabled:s,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),p("span",{className:"".concat(i,"-slash"),children:"/"}),g]}),p("li",{title:m?h.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:S("".concat(i,"-next"),C({},"".concat(i,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext(),children:this.renderNext(ae)}),B]}));if(g<=3+N*2){var se={locale:h,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:m,itemRender:P};g||x.push(y.exports.createElement(A,z(E({},se),{key:"noPager",page:1,className:"".concat(i,"-item-disabled")})));for(var D=1;D<=g;D+=1){var be=f===D;x.push(y.exports.createElement(A,z(E({},se),{key:D,page:D,active:be})))}}else{var ye=j?h.prev_3:h.prev_5,Pe=j?h.next_3:h.next_5;L&&(X=p("li",{title:m?ye:null,onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:S("".concat(i,"-jump-prev"),C({},"".concat(i,"-jump-prev-custom-icon"),!!R)),children:P(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(R,"prev page"))},"prev"),ee=p("li",{title:m?Pe:null,tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:S("".concat(i,"-jump-next"),C({},"".concat(i,"-jump-next-custom-icon"),!!T)),children:P(this.getJumpNextPage(),"jump-next",this.getItemIcon(T,"next page"))},"next")),ne=p(A,{locale:h,last:!0,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:g,active:!1,showTitle:m,itemRender:P},g),te=p(A,{locale:h,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:1,active:!1,showTitle:m,itemRender:P},1);var q=Math.max(1,f-N),F=Math.min(f+N,g);f-1<=N&&(F=1+N*2),g-f<=N&&(q=g-N*2);for(var J=q;J<=F;J+=1){var Ne=f===J;x.push(p(A,{locale:h,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:J,active:Ne,showTitle:m,itemRender:P},J))}f-1>=N*2&&f!==1+2&&(x[0]=y.exports.cloneElement(x[0],{className:"".concat(i,"-item-after-jump-prev")}),x.unshift(X)),g-f>=N*2&&f!==g-2&&(x[x.length-1]=y.exports.cloneElement(x[x.length-1],{className:"".concat(i,"-item-before-jump-next")}),x.push(ee)),q!==1&&x.unshift(te),F!==g&&x.push(ne)}var oe=null;M&&(oe=p("li",{className:"".concat(i,"-total-text"),children:M(u,[u===0?0:(f-1)*K+1,f*K>u?u:f*K])}));var H=!this.hasPrev()||!g,Y=!this.hasNext()||!g;return I("ul",z(E({className:S(i,l,C({},"".concat(i,"-disabled"),s)),style:d,unselectable:"unselectable",ref:this.savePaginationNode},ie),{children:[oe,p("li",{title:m?h.prev_page:null,onClick:this.prev,tabIndex:H?null:0,onKeyPress:this.runIfEnterPrev,className:S("".concat(i,"-prev"),C({},"".concat(i,"-disabled"),H)),"aria-disabled":H,children:this.renderPrev(re)}),x,p("li",{title:m?h.next_page:null,onClick:this.next,tabIndex:Y?null:0,onKeyPress:this.runIfEnterNext,className:S("".concat(i,"-next"),C({},"".concat(i,"-disabled"),Y)),"aria-disabled":Y,children:this.renderNext(ae)}),p(me,{disabled:s,locale:h,rootPrefixCls:i,selectComponentClass:U,selectPrefixCls:W,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:f,pageSize:K,pageSizeOptions:V,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:G})]}))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var i={};if("current"in e&&(i.current=e.current,e.current!==r.current&&(i.currentInputValue=i.current)),"pageSize"in e&&e.pageSize!==r.pageSize){var l=r.current,d=O(e.pageSize,r,e);l=l>d?d:l,"current"in e||(i.current=l,i.currentInputValue=l),i.pageSize=e.pageSize}return i}}]),o}(b.Component);xe.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Z,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Z,locale:Be,style:{},itemRender:De,totalBoundaryShowSizeChanger:50};const Je=({option:a,index:t,position:o,analytics:n})=>p("div",{children:p("p",{children:I("label",{children:[p("input",{type:"checkbox",className:"filled-in",disabled:!0,checked:a.isCorrect,name:`options_${o}`}),p("span",{className:a.isCorrect?"green-text":"black-text",children:p("b",{children:p("span",{dangerouslySetInnerHTML:{__html:a.option}})})})]})})},t),$e=({option:a,index:t,position:o,analytics:n})=>p("div",{children:p("p",{children:I("label",{children:[p("input",{disabled:!0,required:!0,checked:a.isCorrect,className:"with-gap",name:`options_${o}`,type:"radio"}),p("span",{className:a.isCorrect?"green-text":"black-text",children:p("b",{children:p("span",{dangerouslySetInnerHTML:{__html:`
                                <div>${a.option}</div>
                                <div class="sub-modal-texts ${a.isCorrect?"green-text":"red-text"}">Selected by (${n}%) of the students</div>
                                `}})})})]})})},t),Ae=({question:a,failed:t,students:o,position:n,choices:e})=>{const r=we(je),l=y.exports.useMemo(()=>{var c,u;return((u=(c=a==null?void 0:a.options_next)==null?void 0:c.filter(h=>h.isCorrect))==null?void 0:u.length)||0},[a])>1||!1;y.exports.useEffect(()=>{let c=document.querySelectorAll(".question-comp img");ze.Materialbox.init(c)},[]);const s=(()=>{let c=l?Je:$e;return({index:u,option:h,analytics:v})=>p(c,{analytics:v,position:u+1,option:h,index:u},u)})();return I("div",{children:[p("span",{dangerouslySetInnerHTML:{__html:`
                    <div style="display:flex;flex-direction:row;align-items:flex-start;">
                        <p style="margin-right:5px;">${n}.  </p>
                        <div>
                            <strong class="question-comp">${a.question}</strong>
                            <span class="sub-modal-texts green-text" style="margin-left:5px;">
                                <b>[ Attempted by ${o} (${(o/(r||1)*100).toFixed(0)}%) student(s) ]</b>
                            </span>

                            <span class="sub-modal-texts red-text" style="margin-left:5px;">
                                <b>[ Failed by ${(t/o*100).toFixed(0)}% of the students ]</b>
                            </span>
                        </div>
                    </div>
                `}}),p("div",{style:{marginTop:"10px",marginLeft:"17px",marginBottom:"10px"},children:a.options_next&&a.options_next.map((c,u)=>{let h=Object.keys(e).find(v=>v===c._id);return s({option:c,index:u,analytics:((h&&e[c._id]||0)/o*100).toFixed(0)})})}),p("div",{style:{marginLeft:"17px",marginBottom:"10px"},children:p("span",{dangerouslySetInnerHTML:{__html:`
                        <blockquote class="red lighten-5">
                            <span>
                            ${a.additionalInfo}
                            </span>
                        </blockquote>
                    `}})})]})};const Me=a=>{switch(a.question.questionType){case"normal":return p(Ae,E({},a));default:return null}},qe=({stats:a})=>{const[t,o]=y.exports.useState(0);return I("div",{className:"section",children:[I("div",{className:"row",children:[p("div",{className:"col s6 left-align",children:a.length?p(xe,{onChange:(n,e)=>{o(n-1)},current:t+1,total:a.length,pageSize:1}):null}),p("div",{className:"col s6 right-align",children:p("button",{className:"btn-flat sub-modal-texts",style:{border:"1px solid #d3d3d3"},children:I("b",{children:[p("i",{className:"material-icons right",children:"add"}),"select subscription"]})})})]}),p("div",{className:"col s12",style:{border:"1px solid #d3d3d3"},children:a.length>t?p(Me,z(E({},a[t]),{position:t+1})):p("p",{className:"center",children:"No questions found"})})]})};export{qe as default};
