var b=Object.defineProperty;var p=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var u=(r,e,t)=>e in r?b(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))j.call(e,t)&&u(r,t,e[t]);if(p)for(var t of p(e))v.call(e,t)&&u(r,t,e[t]);return r};import{G as w,u as g,d as N,f as S}from"./App.7283f78f.js";import{r as i}from"./vendor.fd4def91.js";import{j as s,a as l,F as y}from"./index.3350170c.js";const C=({_id:r,name:e,teacher:t})=>{const o=g();return s("div",{className:"col s12 m4",children:s("div",{onClick:d=>o(`/subject/${r}`),className:"hoverable z-depth-1",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px"},children:l("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[s("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:`https://www.zoezi-education.com/img/kcpe/${e?e.split(" ")[0].toLowerCase():"mathematics"}.png`}),l("ul",{style:{paddingLeft:"20px"},children:[s("li",{children:e}),s("li",{className:"sub-modal-texts",children:t.name}),s("li",{className:"sub-modal-texts",children:t.email})]})]})})})},F=()=>{const{authToken:r,isTeacher:e}=i.exports.useContext(w),t=g(),[o,d]=i.exports.useState([]),[n,x]=i.exports.useState(""),[f,m]=i.exports.useState(!1);return i.exports.useEffect(()=>{const c=localStorage.getItem("classId")||"";m(!0),N.get(`/api/subject/${c}?timestamp=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${r}`}}).then(({data:a})=>{if(a){d(a.subjects);return}throw new Error("Unexpected error!")}).catch(a=>{x(a.message)}).finally(()=>{m(!1)})},[]),f?s(S,{}):l(y,{children:[n?s("div",{className:"row",children:s("div",{className:"col s12",children:l("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[s("i",{className:"material-icons left",children:"error_outline"}),s("p",{children:n})]})})}):null,s("div",{className:"row",hidden:e,children:s("div",{className:"col s12",children:l("button",{onClick:c=>{let a=localStorage.getItem("gradeName");if(a)return t(`/subject/new/${a}`)},className:"waves-effect waves-light btn-flat",children:[s("i",{className:"material-icons right",children:"add_circle_outline"}),"Add Subject"]})})}),s("div",{className:"row",children:o.map((c,a)=>s(C,h({},c),a))})]})};export{F as default};
