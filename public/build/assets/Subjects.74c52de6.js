var v=Object.defineProperty,w=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var b=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,f=(r,e)=>{for(var t in e||(e={}))C.call(e,t)&&b(r,t,e[t]);if(x)for(var t of x(e))S.call(e,t)&&b(r,t,e[t]);return r},j=(r,e)=>w(r,_(e));import{G as y,u as N,R as I,i as L,d as R,f as $}from"./App.1e349059.js";import{a as l}from"./vendor.0b632b43.js";import{j as s,a as o,F as k}from"./index.b5385275.js";const F=({_id:r,name:e,teacher:t,gradeName:d})=>{const m=N();let c=d.toLowerCase(),i=e.toLowerCase();const p=c==="eight"?"kcpe":c,u=i==="sst&cre"?"social":i.split(" ")[0];return s("div",{className:"col s12 m4",children:s("div",{onClick:h=>m(`/subject/${r}`),className:"hoverable z-depth-0",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"10px"},children:o("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[s("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:`https://www.zoezi-education.com/img/${p}/${u}.png`}),o("ul",{style:{paddingLeft:"20px"},children:[s("li",{children:e}),s("li",{className:"sub-modal-texts",children:t.name}),s("li",{className:"sub-modal-texts",children:t.email})]})]})})})},B=({gradeName:r})=>{const{authToken:e,isTeacher:t}=l.exports.useContext(y),d=N(),[m,c]=l.exports.useState([]),[i,p]=l.exports.useState(""),[u,h]=l.exports.useState(!1),g=I(L);return l.exports.useEffect(()=>{const n=localStorage.getItem("classId")||"";h(!0),R.get(`/api/subject/${n}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:a})=>{if(a){c(a.subjects);return}throw new Error("Unexpected error!")}).catch(a=>{p(a.message)}).finally(()=>{h(!1)})},[]),u?s($,{}):o(k,{children:[i?s("div",{className:"row",children:s("div",{className:"col s12",children:o("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[s("i",{className:"material-icons left",children:"error_outline"}),s("p",{children:i})]})})}):null,s("div",{className:"row",hidden:t,children:s("div",{className:"col s12",children:o("button",{onClick:n=>{if(g)return d(`/subject/new/${g}`)},className:"waves-effect waves-light btn-flat",children:[s("i",{className:"material-icons right",children:"add_circle_outline"}),"Add Subject(s)"]})})}),s("div",{className:"row",children:m.map((n,a)=>s(F,j(f({},n),{gradeName:r}),a))})]})};export{B as default};
