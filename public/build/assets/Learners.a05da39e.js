var v=Object.defineProperty;var p=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var h=(t,e,a)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,m=(t,e)=>{for(var a in e||(e={}))w.call(e,a)&&h(t,a,e[a]);if(p)for(var a of p(e))N.call(e,a)&&h(t,a,e[a]);return t};import{G as y,u as g,d as f}from"./App.afad1a6e.js";import{r as d}from"./vendor.3ebd1a41.js";import{a as n,F as j,j as r}from"./index.ebd73e1b.js";const C=({_id:t,firstname:e,lastname:a,gender:c})=>{const l=g();return r("div",{className:"col s6 m4",children:r("div",{onClick:s=>l(`/learner/${t}`),className:"hoverable z-depth-1",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"5px"},children:n("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[r("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:"https://cdn2.iconfinder.com/data/icons/child-people-face-avatar-3/500/child_152-512.png"}),r("ul",{style:{paddingLeft:"20px"},children:n("li",{children:[e," ",a]})})]})})})},A=({classRefId:t})=>{const{authToken:e}=d.exports.useContext(y),a=g(),[c,l]=d.exports.useState([]);return d.exports.useEffect(()=>{f.get(`/api/grade/learners/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{if(s){l(s.learners);return}})},[]),n(j,{children:[r("div",{className:"row",children:n("div",{className:"col s12",children:[n("button",{className:"waves-effect waves-light btn-flat",style:{marginRight:"5px"},onClick:s=>a("/learner/import"),children:[r("i",{className:"material-icons right",children:"cloud_upload"}),"Import Learners"]}),n("button",{style:{marginRight:"5px"},className:"waves-effect waves-light btn-flat",onClick:s=>a("/learner/new"),children:[r("i",{className:"material-icons right",children:"person_add"}),"Add Learner"]}),n("button",{className:"waves-effect waves-light btn-flat",onClick:s=>{const o=localStorage.getItem("classRefId")||"";f.get(`/api/grade/learners/credentials/${o}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:u,headers:x})=>{const b=window.URL.createObjectURL(new Blob([u],{type:x["content-type"]})),i=document.createElement("a");i.href=b,i.setAttribute("download","credentials.xlsx"),document.body.appendChild(i),i.click()})},children:[r("i",{className:"material-icons right",children:"cloud_download"}),"Export Credentials"]})]})}),r("div",{className:"row",children:c.map((s,o)=>r(C,m({},s),o))})]})};export{A as default};
