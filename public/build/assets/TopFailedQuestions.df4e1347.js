var v=Object.defineProperty;var l=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var c=(s,e,t)=>e in s?v(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))C.call(e,t)&&c(s,t,e[t]);if(l)for(var t of l(e))F.call(e,t)&&c(s,t,e[t]);return s};import{_ as N,j as a,a as u}from"./index.1e4c208f.js";import{y as m,G as w,R as x,D,i as E,m as f,d as P,f as h,s as k}from"./App.a8681f4d.js";import{R as _,a as r}from"./vendor.0b632b43.js";const T=_.lazy(()=>N(()=>import("./index.90feba04.js"),["assets/index.90feba04.js","assets/index.0299b386.css","assets/App.a8681f4d.js","assets/App.bede793c.css","assets/vendor.0b632b43.js","assets/index.1e4c208f.js","assets/index.5cc787a4.css"])),A=m({key:"totalStudentsInSubjectId",default:0}),L=m({key:"studentsWhoPartcipatedStateId",default:0}),B=({subject:s})=>{const{authToken:e}=r.exports.useContext(w),t=x(D),S=x(E),[b,g]=r.exports.useState({stats:[],students:0,students_who_did:0}),y=f(A),j=f(L),[I,n]=r.exports.useState(!1),[d,R]=r.exports.useState("");return r.exports.useEffect(()=>{n(!0),P.get(`/api/deep-analytics/${t}/${S}/${s}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:o})=>{if(o&&o.status){let i=o.paper;g(i),y(i.students),j(i.students_who_did);return}throw new Error("Unexpected error!")}).catch(o=>{R(o.message)}).finally(()=>{n(!1)})},[]),I?a(h,{}):u("div",{className:"section",children:[d?a("div",{className:"row",children:a("div",{className:"col s12",children:u("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[a("i",{className:"material-icons left",children:"error_outline"}),a("p",{children:d})]})})}):null,a(k,{children:a(_.Suspense,{fallback:a(h,{}),children:a(T,p({},b))})})]})};export{B as default,L as studentsWhoPartcipatedState,A as totalStudentsInSubject};
