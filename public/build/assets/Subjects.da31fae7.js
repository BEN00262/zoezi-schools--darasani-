var N=Object.defineProperty,v=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var x=(r,e,t)=>e in r?N(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,b=(r,e)=>{for(var t in e||(e={}))C.call(e,t)&&x(r,t,e[t]);if(g)for(var t of g(e))S.call(e,t)&&x(r,t,e[t]);return r},f=(r,e)=>v(r,w(e));import{G as y,u as j,d as I,f as _}from"./App.da620e27.js";import{r as l}from"./vendor.5c57f7a1.js";import{j as s,a as o,F as L}from"./index.2be7657d.js";const $=({_id:r,name:e,teacher:t,gradeName:n})=>{const m=j();let c=n.toLowerCase(),i=e.toLowerCase();const p=c==="eight"?"kcpe":c,u=i==="sst&cre"?"social":i.split(" ")[0];return s("div",{className:"col s12 m4",children:s("div",{onClick:h=>m(`/subject/${r}`),className:"hoverable z-depth-0",style:{cursor:"pointer",border:"1px solid #d3d3d3",borderRadius:"2px",padding:"5px",marginBottom:"10px"},children:o("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[s("img",{style:{height:"100px",width:"100px",objectFit:"contain",border:"1px solid #d3d3d3",borderRadius:"50%"},src:`https://www.zoezi-education.com/img/${p}/${u}.png`}),o("ul",{style:{paddingLeft:"20px"},children:[s("li",{children:e}),s("li",{className:"sub-modal-texts",children:t.name}),s("li",{className:"sub-modal-texts",children:t.email})]})]})})})},A=({gradeName:r})=>{const{authToken:e,isTeacher:t}=l.exports.useContext(y),n=j(),[m,c]=l.exports.useState([]),[i,p]=l.exports.useState(""),[u,h]=l.exports.useState(!1);return l.exports.useEffect(()=>{const d=localStorage.getItem("classId")||"";h(!0),I.get(`/api/subject/${d}`,{headers:{Authorization:`Bearer ${e}`}}).then(({data:a})=>{if(a){c(a.subjects);return}throw new Error("Unexpected error!")}).catch(a=>{p(a.message)}).finally(()=>{h(!1)})},[]),u?s(_,{}):o(L,{children:[i?s("div",{className:"row",children:s("div",{className:"col s12",children:o("div",{className:"sub-modal-texts",style:{borderLeft:"2px solid red",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",lineHeight:"4em",backgroundColor:"rgba(255,0,0, 0.1)",display:"flex",flexDirection:"row",alignItems:"center"},children:[s("i",{className:"material-icons left",children:"error_outline"}),s("p",{children:i})]})})}):null,s("div",{className:"row",hidden:t,children:s("div",{className:"col s12",children:o("button",{onClick:d=>{let a=localStorage.getItem("gradeName");if(a)return n(`/subject/new/${a}`)},className:"waves-effect waves-light btn-flat",children:[s("i",{className:"material-icons right",children:"add_circle_outline"}),"Add Subject(s)"]})})}),s("div",{className:"row",children:m.map((d,a)=>s($,f(b({},d),{gradeName:r}),a))})]})};export{A as default};
