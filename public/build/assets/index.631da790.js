var Se=Object.defineProperty,Ie=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ce=(a,t,o)=>t in a?Se(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,_=(a,t)=>{for(var o in t||(t={}))_e.call(t,o)&&ce(a,o,t[o]);if(ue)for(var o of ue(t))Ee.call(t,o)&&ce(a,o,t[o]);return a},z=(a,t)=>Ie(a,Oe(t));import{_ as C,D as ke,E as S,F as pe,H as he,I as de,R as we,M as ze}from"./App.26ebc81b.js";import{R as b,a as P}from"./vendor.0b632b43.js";import{j as p,a as E}from"./index.84bbb72d.js";import{totalStudentsInSubject as je}from"./TopFailedQuestions.bcf93181.js";function fe(a,t){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),o.push.apply(o,n)}return o}function Re(a){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(o),!0).forEach(function(n){C(a,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):fe(Object(o)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(o,n))})}return a}function Q(a){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Q(a)}function Te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ve(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ke(a,t){if(t&&(ke(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ve(a)}function ge(a){var t=Te();return function(){var n=Q(a),e;if(t){var r=Q(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Ke(this,e)}}var A=function(t){var o,n="".concat(t.rootPrefixCls,"-item"),e=S(n,"".concat(n,"-").concat(t.page),(o={},C(o,"".concat(n,"-active"),t.active),C(o,"".concat(n,"-disabled"),!t.page),C(o,t.className,!!t.className),o)),r=function(){t.onClick(t.page)},i=function(h){t.onKeyPress(h,t.onClick,t.page)};return b.createElement("li",{title:t.showTitle?t.page:null,className:e,onClick:r,onKeyPress:i,tabIndex:"0"},t.itemRender(t.page,"page",b.createElement("a",{rel:"nofollow"},t.page)))},k={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},me=function(a){pe(o,a);var t=ge(o);function o(){var n;he(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n=t.call.apply(t,[this].concat(r)),n.state={goInputText:""},n.buildOptionText=function(l){return"".concat(l," ").concat(n.props.locale.items_per_page)},n.changeSize=function(l){n.props.changeSize(Number(l))},n.handleChange=function(l){n.setState({goInputText:l.target.value})},n.handleBlur=function(l){var h=n.props,s=h.goButton,u=h.quickGo,c=h.rootPrefixCls,d=n.state.goInputText;s||d===""||(n.setState({goInputText:""}),!(l.relatedTarget&&(l.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||l.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&u(n.getValidValue()))},n.go=function(l){var h=n.state.goInputText;h!==""&&(l.keyCode===k.ENTER||l.type==="click")&&(n.setState({goInputText:""}),n.props.quickGo(n.getValidValue()))},n}return de(o,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,r=e.pageSize,i=e.pageSizeOptions;return i.some(function(l){return l.toString()===r.toString()})?i:i.concat([r.toString()]).sort(function(l,h){var s=isNaN(Number(l))?0:Number(l),u=isNaN(Number(h))?0:Number(h);return s-u})}},{key:"render",value:function(){var e=this,r=this.props,i=r.pageSize,l=r.locale,h=r.rootPrefixCls,s=r.changeSize,u=r.quickGo,c=r.goButton,d=r.selectComponentClass,v=r.buildOptionText,j=r.selectPrefixCls,m=r.disabled,M=this.state.goInputText,w="".concat(h,"-options"),y=d,L=null,R=null,T=null;if(!s&&!u)return null;var U=this.getPageSizeOptions();if(s&&y){var W=U.map(function(V,O){return b.createElement(y.Option,{key:O,value:V.toString()},(v||e.buildOptionText)(V))});L=b.createElement(y,{disabled:m,prefixCls:j,showSearch:!1,className:"".concat(w,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(i||U[0]).toString(),onChange:this.changeSize,getPopupContainer:function(O){return O.parentNode},"aria-label":l.page_size,defaultOpen:!1},W)}return u&&(c&&(T=typeof c=="boolean"?b.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:m,className:"".concat(w,"-quick-jumper-button")},l.jump_to_confirm):b.createElement("span",{onClick:this.go,onKeyUp:this.go},c)),R=b.createElement("div",{className:"".concat(w,"-quick-jumper")},l.jump_to,b.createElement("input",{disabled:m,type:"text",value:M,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":l.page}),l.page,T)),b.createElement("li",{className:"".concat(w)},L,R)}}]),o}(b.Component);me.defaultProps={pageSizeOptions:["10","20","50","100"]};var Be={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};function Z(){}function ve(a){var t=Number(a);return typeof t=="number"&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function De(a,t,o){return o}function I(a,t,o){var n=typeof a=="undefined"?t.pageSize:a;return Math.floor((o.total-1)/n)+1}var xe=function(a){pe(o,a);var t=ge(o);function o(n){var e;he(this,o),e=t.call(this,n),e.getJumpPrevPage=function(){return Math.max(1,e.state.current-(e.props.showLessItems?3:5))},e.getJumpNextPage=function(){return Math.min(I(void 0,e.state,e.props),e.state.current+(e.props.showLessItems?3:5))},e.getItemIcon=function(s,u){var c=e.props.prefixCls,d=s||p("button",{type:"button","aria-label":u,className:"".concat(c,"-item-link")});return typeof s=="function"&&(d=b.createElement(s,Re({},e.props))),d},e.savePaginationNode=function(s){e.paginationNode=s},e.isValid=function(s){var u=e.props.total;return ve(s)&&s!==e.state.current&&ve(u)&&u>0},e.shouldDisplayQuickJumper=function(){var s=e.props,u=s.showQuickJumper,c=s.total,d=e.state.pageSize;return c<=d?!1:u},e.handleKeyDown=function(s){(s.keyCode===k.ARROW_UP||s.keyCode===k.ARROW_DOWN)&&s.preventDefault()},e.handleKeyUp=function(s){var u=e.getValidValue(s),c=e.state.currentInputValue;u!==c&&e.setState({currentInputValue:u}),s.keyCode===k.ENTER?e.handleChange(u):s.keyCode===k.ARROW_UP?e.handleChange(u-1):s.keyCode===k.ARROW_DOWN&&e.handleChange(u+1)},e.handleBlur=function(s){var u=e.getValidValue(s);e.handleChange(u)},e.changePageSize=function(s){var u=e.state.current,c=I(s,e.state,e.props);u=u>c?c:u,c===0&&(u=e.state.current),typeof s=="number"&&("pageSize"in e.props||e.setState({pageSize:s}),"current"in e.props||e.setState({current:u,currentInputValue:u})),e.props.onShowSizeChange(u,s),"onChange"in e.props&&e.props.onChange&&e.props.onChange(u,s)},e.handleChange=function(s){var u=e.props.disabled,c=s;if(e.isValid(c)&&!u){var d=I(void 0,e.state,e.props);c>d?c=d:c<1&&(c=1),"current"in e.props||e.setState({current:c,currentInputValue:c});var v=e.state.pageSize;return e.props.onChange(c,v),c}return e.state.current},e.prev=function(){e.hasPrev()&&e.handleChange(e.state.current-1)},e.next=function(){e.hasNext()&&e.handleChange(e.state.current+1)},e.jumpPrev=function(){e.handleChange(e.getJumpPrevPage())},e.jumpNext=function(){e.handleChange(e.getJumpNextPage())},e.hasPrev=function(){return e.state.current>1},e.hasNext=function(){return e.state.current<I(void 0,e.state,e.props)},e.runIfEnter=function(s,u){if(s.key==="Enter"||s.charCode===13){for(var c=arguments.length,d=new Array(c>2?c-2:0),v=2;v<c;v++)d[v-2]=arguments[v];u.apply(void 0,d)}},e.runIfEnterPrev=function(s){e.runIfEnter(s,e.prev)},e.runIfEnterNext=function(s){e.runIfEnter(s,e.next)},e.runIfEnterJumpPrev=function(s){e.runIfEnter(s,e.jumpPrev)},e.runIfEnterJumpNext=function(s){e.runIfEnter(s,e.jumpNext)},e.handleGoTO=function(s){(s.keyCode===k.ENTER||s.type==="click")&&e.handleChange(e.state.currentInputValue)};var r=n.onChange!==Z,i="current"in n;i&&!r&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var l=n.defaultCurrent;"current"in n&&(l=n.current);var h=n.defaultPageSize;return"pageSize"in n&&(h=n.pageSize),l=Math.min(l,I(h,void 0,n)),e.state={current:l,currentInputValue:l,pageSize:h},e}return de(o,[{key:"componentDidUpdate",value:function(e,r){var i=this.props.prefixCls;if(r.current!==this.state.current&&this.paginationNode){var l=this.paginationNode.querySelector(".".concat(i,"-item-").concat(r.current));l&&document.activeElement===l&&l.blur()}}},{key:"getValidValue",value:function(e){var r=e.target.value,i=I(void 0,this.state,this.props),l=this.state.currentInputValue,h;return r===""?h=r:isNaN(Number(r))?h=l:r>=i?h=i:h=Number(r),h}},{key:"getShowSizeChanger",value:function(){var e=this.props,r=e.showSizeChanger,i=e.total,l=e.totalBoundaryShowSizeChanger;return typeof r!="undefined"?r:i>l}},{key:"renderPrev",value:function(e){var r=this.props,i=r.prevIcon,l=r.itemRender,h=l(e,"prev",this.getItemIcon(i,"prev page")),s=!this.hasPrev();return P.exports.isValidElement(h)?P.exports.cloneElement(h,{disabled:s}):h}},{key:"renderNext",value:function(e){var r=this.props,i=r.nextIcon,l=r.itemRender,h=l(e,"next",this.getItemIcon(i,"next page")),s=!this.hasNext();return P.exports.isValidElement(h)?P.exports.cloneElement(h,{disabled:s}):h}},{key:"render",value:function(){var e=this,r=this.props,i=r.prefixCls,l=r.className,h=r.style,s=r.disabled,u=r.hideOnSinglePage,c=r.total,d=r.locale,v=r.showQuickJumper,j=r.showLessItems,m=r.showTitle,M=r.showTotal,w=r.simple,y=r.itemRender,L=r.showPrevNextJumpers,R=r.jumpPrevIcon,T=r.jumpNextIcon,U=r.selectComponentClass,W=r.selectPrefixCls,V=r.pageSizeOptions,O=this.state,f=O.current,K=O.pageSize,Ce=O.currentInputValue;if(u===!0&&c<=K)return null;var g=I(void 0,this.state,this.props),x=[],X=null,ee=null,te=null,ne=null,B=null,G=v&&v.goButton,N=j?1:2,re=f-1>0?f-1:0,ae=f+1<g?f+1:g,ie=Object.keys(this.props).reduce(function(le,$){return($.substr(0,5)==="data-"||$.substr(0,5)==="aria-"||$==="role")&&(le[$]=e.props[$]),le},{});if(w)return G&&(typeof G=="boolean"?B=p("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:d.jump_to_confirm}):B=p("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:G}),B=p("li",{title:m?"".concat(d.jump_to).concat(f,"/").concat(g):null,className:"".concat(i,"-simple-pager"),children:B})),E("ul",z(_({className:S(i,"".concat(i,"-simple"),C({},"".concat(i,"-disabled"),s),l),style:h,ref:this.savePaginationNode},ie),{children:[p("li",{title:m?d.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:S("".concat(i,"-prev"),C({},"".concat(i,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev(),children:this.renderPrev(re)}),E("li",{title:m?"".concat(f,"/").concat(g):null,className:"".concat(i,"-simple-pager"),children:[p("input",{type:"text",value:Ce,disabled:s,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),p("span",{className:"".concat(i,"-slash"),children:"/"}),g]}),p("li",{title:m?d.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:S("".concat(i,"-next"),C({},"".concat(i,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext(),children:this.renderNext(ae)}),B]}));if(g<=3+N*2){var se={locale:d,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:m,itemRender:y};g||x.push(P.exports.createElement(A,z(_({},se),{key:"noPager",page:1,className:"".concat(i,"-item-disabled")})));for(var D=1;D<=g;D+=1){var be=f===D;x.push(P.exports.createElement(A,z(_({},se),{key:D,page:D,active:be})))}}else{var Pe=j?d.prev_3:d.prev_5,ye=j?d.next_3:d.next_5;L&&(X=p("li",{title:m?Pe:null,onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:S("".concat(i,"-jump-prev"),C({},"".concat(i,"-jump-prev-custom-icon"),!!R)),children:y(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(R,"prev page"))},"prev"),ee=p("li",{title:m?ye:null,tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:S("".concat(i,"-jump-next"),C({},"".concat(i,"-jump-next-custom-icon"),!!T)),children:y(this.getJumpNextPage(),"jump-next",this.getItemIcon(T,"next page"))},"next")),ne=p(A,{locale:d,last:!0,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:g,active:!1,showTitle:m,itemRender:y},g),te=p(A,{locale:d,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:1,active:!1,showTitle:m,itemRender:y},1);var q=Math.max(1,f-N),F=Math.min(f+N,g);f-1<=N&&(F=1+N*2),g-f<=N&&(q=g-N*2);for(var J=q;J<=F;J+=1){var Ne=f===J;x.push(p(A,{locale:d,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:J,active:Ne,showTitle:m,itemRender:y},J))}f-1>=N*2&&f!==1+2&&(x[0]=P.exports.cloneElement(x[0],{className:"".concat(i,"-item-after-jump-prev")}),x.unshift(X)),g-f>=N*2&&f!==g-2&&(x[x.length-1]=P.exports.cloneElement(x[x.length-1],{className:"".concat(i,"-item-before-jump-next")}),x.push(ee)),q!==1&&x.unshift(te),F!==g&&x.push(ne)}var oe=null;M&&(oe=p("li",{className:"".concat(i,"-total-text"),children:M(c,[c===0?0:(f-1)*K+1,f*K>c?c:f*K])}));var H=!this.hasPrev()||!g,Y=!this.hasNext()||!g;return E("ul",z(_({className:S(i,l,C({},"".concat(i,"-disabled"),s)),style:h,unselectable:"unselectable",ref:this.savePaginationNode},ie),{children:[oe,p("li",{title:m?d.prev_page:null,onClick:this.prev,tabIndex:H?null:0,onKeyPress:this.runIfEnterPrev,className:S("".concat(i,"-prev"),C({},"".concat(i,"-disabled"),H)),"aria-disabled":H,children:this.renderPrev(re)}),x,p("li",{title:m?d.next_page:null,onClick:this.next,tabIndex:Y?null:0,onKeyPress:this.runIfEnterNext,className:S("".concat(i,"-next"),C({},"".concat(i,"-disabled"),Y)),"aria-disabled":Y,children:this.renderNext(ae)}),p(me,{disabled:s,locale:d,rootPrefixCls:i,selectComponentClass:U,selectPrefixCls:W,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:f,pageSize:K,pageSizeOptions:V,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:G})]}))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var i={};if("current"in e&&(i.current=e.current,e.current!==r.current&&(i.currentInputValue=i.current)),"pageSize"in e&&e.pageSize!==r.pageSize){var l=r.current,h=I(e.pageSize,r,e);l=l>h?h:l,"current"in e||(i.current=l,i.currentInputValue=l),i.pageSize=e.pageSize}return i}}]),o}(b.Component);xe.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Z,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Z,locale:Be,style:{},itemRender:De,totalBoundaryShowSizeChanger:50};const Je=({option:a,index:t,position:o,analytics:n})=>p("div",{children:p("p",{children:E("label",{children:[p("input",{type:"checkbox",className:"filled-in",disabled:!0,checked:a.isCorrect,name:`options_${o}`}),p("span",{className:a.isCorrect?"green-text":"black-text",children:p("b",{children:p("span",{dangerouslySetInnerHTML:{__html:a.option}})})})]})})},t),$e=({option:a,index:t,position:o,analytics:n})=>p("div",{children:p("p",{children:E("label",{children:[p("input",{disabled:!0,required:!0,checked:a.isCorrect,className:"with-gap",name:`options_${o}`,type:"radio"}),p("span",{className:a.isCorrect?"green-text":"black-text",children:p("b",{children:p("span",{dangerouslySetInnerHTML:{__html:`
                                <div>${a.option}</div>
                                <div class="sub-modal-texts ${a.isCorrect?"green-text":"red-text"}">Selected by (${n}%) of the students</div>
                                `}})})})]})})},t),Ae=({question:a,failed:t,students:o,position:n,choices:e})=>{const r=we(je),l=P.exports.useMemo(()=>{var u,c;return((c=(u=a==null?void 0:a.options_next)==null?void 0:u.filter(d=>d.isCorrect))==null?void 0:c.length)||0},[a])>1||!1;P.exports.useEffect(()=>{let u=document.querySelectorAll(".question-comp img");ze.Materialbox.init(u)},[]);const s=(()=>{let u=l?Je:$e;return({index:c,option:d,analytics:v})=>p(u,{analytics:v,position:c+1,option:d,index:c},c)})();return E("div",{children:[p("span",{dangerouslySetInnerHTML:{__html:`
                    <div style="display:flex;flex-direction:row;align-items:flex-start;">
                        <p style="margin-right:5px;">${n}.  </p>
                        <div>
                            <strong class="question-comp">${a.question}</strong>
                            <span class="sub-modal-texts green-text" style="margin-left:5px;">
                                <b>[ Attempted by ${o} (${(o/(r||1)*100).toFixed(0)}%) student(s) ]</b>
                            </span>

                            <span class="sub-modal-texts red-text" style="margin-left:5px;">
                                <b>[ Failed by ${(t/o*100).toFixed(0)}% of the students ]</b>
                            </span>
                        </div>
                    </div>
                `}}),p("div",{style:{marginTop:"10px",marginLeft:"17px",marginBottom:"10px"},children:a.options_next&&a.options_next.map((u,c)=>{let d=Object.keys(e).find(v=>v===u._id);return s({option:u,index:c,analytics:((d&&e[u._id]||0)/o*100).toFixed(0)})})}),p("div",{style:{marginLeft:"17px",marginBottom:"10px"},children:p("span",{dangerouslySetInnerHTML:{__html:`
                        <blockquote class="red lighten-5">
                            <span>
                            ${a.additionalInfo}
                            </span>
                        </blockquote>
                    `}})})]})};const Me=a=>{switch(a.question.questionType){case"normal":return p(Ae,_({},a));default:return null}},qe=({stats:a})=>{const[t,o]=P.exports.useState(0);return E("div",{className:"section",children:[p("div",{className:"row",children:p("div",{className:"col s12 left-align",children:a.length?p(xe,{onChange:(n,e)=>{o(n-1)},current:t+1,total:a.length,pageSize:1}):null})}),p("div",{className:"col s12",style:{border:"1px solid #d3d3d3"},children:a.length>t?p(Me,z(_({},a[t]),{position:t+1})):p("p",{className:"center",children:"No questions found"})})]})};export{qe as default};
